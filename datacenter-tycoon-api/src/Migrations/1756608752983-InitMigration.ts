import { MigrationInterface, QueryRunner } from "typeorm";

export class InitMigration1756608752983 implements MigrationInterface {
    name = 'InitMigration1756608752983'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`CREATE TABLE "storage" ("id" SERIAL NOT NULL, "name" character varying(255) NOT NULL, "description" character varying(255) NOT NULL, "price" integer NOT NULL, "capacity" integer NOT NULL, CONSTRAINT "PK_f9b67a9921474d86492aad2e027" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "rol" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "description" character varying(100) NOT NULL, "enable" boolean NOT NULL DEFAULT true, CONSTRAINT "PK_c93a22388638fac311781c7f2dd" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "public"."user_status_enum" AS ENUM('active', 'inactive', 'suspended', 'pending_verification', 'banned')`);
        await queryRunner.query(`CREATE TYPE "public"."user_tier_enum" AS ENUM('free', 'basic', 'premium', 'enterprise', 'admin')`);
        await queryRunner.query(`CREATE TYPE "public"."user_preferredlanguage_enum" AS ENUM('en', 'es', 'fr', 'de', 'it', 'pt', 'ru', 'zh', 'ja', 'ko')`);
        await queryRunner.query(`CREATE TYPE "public"."user_preferredcurrency_enum" AS ENUM('usd', 'eur', 'gbp', 'jpy', 'cad', 'aud', 'chf', 'cny', 'sek', 'nzd')`);
        await queryRunner.query(`CREATE TYPE "public"."user_emailnotifications_enum" AS ENUM('email', 'sms', 'push', 'none')`);
        await queryRunner.query(`CREATE TYPE "public"."user_smsnotifications_enum" AS ENUM('email', 'sms', 'push', 'none')`);
        await queryRunner.query(`CREATE TYPE "public"."user_pushnotifications_enum" AS ENUM('email', 'sms', 'push', 'none')`);
        await queryRunner.query(`CREATE TABLE "user" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "email" character varying(255), "password" character varying(255) NOT NULL, "uuid" character varying(255) NOT NULL, "firstName" character varying(100), "lastName" character varying(100), "phoneNumber" character varying(20), "dateOfBirth" date, "profilePicture" character varying(500), "bio" text, "status" "public"."user_status_enum" NOT NULL DEFAULT 'pending_verification', "tier" "public"."user_tier_enum" NOT NULL DEFAULT 'free', "preferredLanguage" "public"."user_preferredlanguage_enum" NOT NULL DEFAULT 'en', "preferredCurrency" "public"."user_preferredcurrency_enum" NOT NULL DEFAULT 'usd', "timezone" character varying(50), "country" character varying(100), "state" character varying(100), "city" character varying(100), "address" character varying(255), "postalCode" character varying(20), "latitude" numeric(10,8), "longitude" numeric(11,8), "companyName" character varying(200), "jobTitle" character varying(100), "department" character varying(100), "companySize" character varying(50), "industry" character varying(100), "companyWebsite" character varying(500), "taxId" character varying(50), "emailNotifications" "public"."user_emailnotifications_enum" NOT NULL DEFAULT 'email', "smsNotifications" "public"."user_smsnotifications_enum" NOT NULL DEFAULT 'none', "pushNotifications" "public"."user_pushnotifications_enum" NOT NULL DEFAULT 'push', "marketingEmails" boolean NOT NULL DEFAULT true, "securityAlerts" boolean NOT NULL DEFAULT true, "systemUpdates" boolean NOT NULL DEFAULT true, "twoFactorEnabled" boolean NOT NULL DEFAULT false, "twoFactorSecret" character varying(32), "backupCodes" json, "lastPasswordChange" TIMESTAMP, "failedLoginAttempts" integer NOT NULL DEFAULT '0', "accountLockedUntil" TIMESTAMP, "lastLoginAt" TIMESTAMP, "lastLoginIp" character varying(45), "lastUserAgent" character varying(500), "totalLogins" integer NOT NULL DEFAULT '0', "totalDatacentersCreated" integer NOT NULL DEFAULT '0', "totalServersDeployed" integer NOT NULL DEFAULT '0', "totalRevenue" numeric(15,2) NOT NULL DEFAULT '0', "totalExpenses" numeric(15,2) NOT NULL DEFAULT '0', "totalIncidents" integer NOT NULL DEFAULT '0', "averageUptime" numeric(5,2) NOT NULL DEFAULT '0', "billingName" character varying(100), "billingAddress" character varying(255), "billingCity" character varying(100), "billingState" character varying(100), "billingPostalCode" character varying(20), "billingCountry" character varying(100), "paymentMethod" character varying(50), "subscriptionStartDate" TIMESTAMP, "subscriptionEndDate" TIMESTAMP, "autoRenewSubscription" boolean NOT NULL DEFAULT true, "apiKey" character varying(64), "apiRateLimit" integer NOT NULL DEFAULT '1000', "apiCallsThisMonth" integer NOT NULL DEFAULT '0', "apiKeyLastUsed" TIMESTAMP, "alertThresholds" json, "alertContacts" json, "emailVerifiedAt" TIMESTAMP, "phoneVerifiedAt" TIMESTAMP, "profileCompletedAt" TIMESTAMP, "termsAcceptedAt" TIMESTAMP, "privacyPolicyAcceptedAt" TIMESTAMP, "preferences" json, "integrations" json, "notes" text, "rol_id" integer, CONSTRAINT "PK_cace4a159ff9f2512dd42373760" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "public"."service_type_entity_type_enum" AS ENUM('web_hosting', 'api_hosting', 'database_managed', 'colocation', 'housing', 'cdn', 'backup', 'kubernetes', 'firewall_as_service', 'load_balancer_as_service', 'bandwidth', 'ddos_mitigation')`);
        await queryRunner.query(`CREATE TABLE "service_type_entity" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "type" "public"."service_type_entity_type_enum" NOT NULL, "name" character varying(255) NOT NULL, "description" character varying(1000), "basePrice" integer NOT NULL, "minCpuCores" integer NOT NULL, "minRamGb" integer NOT NULL, "minStorageGb" integer NOT NULL, "minBandwidthMbps" integer NOT NULL, "defaultUptimeSla" numeric(5,2) NOT NULL, "defaultMaxLatencyMs" integer NOT NULL, "defaultMinThroughputMbps" integer NOT NULL, "pricePerAdditionalCore" numeric(10,4) NOT NULL, "pricePerAdditionalGbRam" numeric(10,4) NOT NULL, "pricePerAdditionalGbStorage" numeric(10,4) NOT NULL, "pricePerAdditionalMbpsBandwidth" numeric(10,4) NOT NULL, "serviceConfig" json, "isActive" boolean NOT NULL DEFAULT true, "category" character varying, "complexityLevel" integer, CONSTRAINT "UQ_bdead48970da2335570c1a778d2" UNIQUE ("type"), CONSTRAINT "PK_cf7f697e2d59cb08d8371e76609" PRIMARY KEY ("id")); COMMENT ON COLUMN "service_type_entity"."basePrice" IS 'Precio base por mes'; COMMENT ON COLUMN "service_type_entity"."minCpuCores" IS 'CPU mínimo requerido (cores)'; COMMENT ON COLUMN "service_type_entity"."minRamGb" IS 'RAM mínima requerida (GB)'; COMMENT ON COLUMN "service_type_entity"."minStorageGb" IS 'Almacenamiento mínimo requerido (GB)'; COMMENT ON COLUMN "service_type_entity"."minBandwidthMbps" IS 'Ancho de banda mínimo requerido (Mbps)'; COMMENT ON COLUMN "service_type_entity"."defaultUptimeSla" IS 'Uptime garantizado (%)'; COMMENT ON COLUMN "service_type_entity"."defaultMaxLatencyMs" IS 'Latencia máxima garantizada (ms)'; COMMENT ON COLUMN "service_type_entity"."defaultMinThroughputMbps" IS 'Throughput mínimo garantizado (Mbps)'; COMMENT ON COLUMN "service_type_entity"."pricePerAdditionalCore" IS 'Precio por core adicional'; COMMENT ON COLUMN "service_type_entity"."pricePerAdditionalGbRam" IS 'Precio por GB de RAM adicional'; COMMENT ON COLUMN "service_type_entity"."pricePerAdditionalGbStorage" IS 'Precio por GB de almacenamiento adicional'; COMMENT ON COLUMN "service_type_entity"."pricePerAdditionalMbpsBandwidth" IS 'Precio por Mbps de ancho de banda adicional'; COMMENT ON COLUMN "service_type_entity"."serviceConfig" IS 'Configuración específica del tipo de servicio'; COMMENT ON COLUMN "service_type_entity"."isActive" IS 'Si el tipo de servicio está disponible para nuevos contratos'; COMMENT ON COLUMN "service_type_entity"."category" IS 'Categoría del servicio para agrupación'; COMMENT ON COLUMN "service_type_entity"."complexityLevel" IS 'Nivel de complejidad del servicio (1-10)'`);
        await queryRunner.query(`CREATE TABLE "datacenter_types" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "name" character varying(255) NOT NULL, "ubication" character varying(255) NOT NULL, "price" integer NOT NULL, "max_power" integer NOT NULL, "max_bandwidth" integer NOT NULL, "max_racks" integer NOT NULL, CONSTRAINT "PK_de091b1d514ce46d30e45d6b835" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "public"."datacenter_status_enum" AS ENUM('active', 'inactive', 'maintenance', 'construction', 'decommissioned', 'emergency')`);
        await queryRunner.query(`CREATE TYPE "public"."datacenter_tier_enum" AS ENUM('tier_1', 'tier_2', 'tier_3', 'tier_4')`);
        await queryRunner.query(`CREATE TYPE "public"."datacenter_powerredundancy_enum" AS ENUM('n', 'n_plus_1', '2n', '2n_plus_1')`);
        await queryRunner.query(`CREATE TYPE "public"."datacenter_coolingtype_enum" AS ENUM('air', 'liquid', 'immersion', 'hybrid', 'free_cooling', 'evaporative')`);
        await queryRunner.query(`CREATE TABLE "datacenter" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "name" character varying(255) NOT NULL, "description" character varying(255) NOT NULL, "uuid" character varying NOT NULL, "status" "public"."datacenter_status_enum" NOT NULL DEFAULT 'active', "tier" "public"."datacenter_tier_enum" NOT NULL, "country" character varying(100) NOT NULL, "city" character varying(100) NOT NULL, "address" character varying(200), "latitude" numeric(10,8), "longitude" numeric(11,8), "timezone" character varying(50), "totalAreaSqm" integer NOT NULL, "usableAreaSqm" integer NOT NULL, "ceilingHeightM" integer NOT NULL, "maxRacks" integer NOT NULL, "installedRacks" integer NOT NULL DEFAULT '0', "totalPowerCapacityKw" integer NOT NULL, "currentPowerUsageKw" integer NOT NULL DEFAULT '0', "powerRedundancy" "public"."datacenter_powerredundancy_enum" NOT NULL, "upsCount" integer NOT NULL, "upsTotalCapacityKva" integer NOT NULL, "upsBackupTimeMinutes" integer NOT NULL, "hasBackupGenerator" boolean NOT NULL DEFAULT false, "generatorCapacityKw" integer, "coolingType" "public"."datacenter_coolingtype_enum" NOT NULL, "coolingCapacityTons" integer NOT NULL, "targetTemperatureC" integer NOT NULL, "targetHumidityPercent" integer NOT NULL, "currentTemperatureC" integer NOT NULL DEFAULT '0', "currentHumidityPercent" integer NOT NULL DEFAULT '0', "totalBandwidthGbps" integer NOT NULL, "usedBandwidthGbps" integer NOT NULL DEFAULT '0', "ispCount" integer NOT NULL, "ispProviders" json, "hasBiometricAccess" boolean NOT NULL DEFAULT false, "hasCctv" boolean NOT NULL DEFAULT false, "hasIntrusionDetection" boolean NOT NULL DEFAULT false, "hasFireSuppression" boolean NOT NULL DEFAULT false, "securityGuardCount" integer NOT NULL DEFAULT '0', "certifications" json, "gdprCompliant" boolean NOT NULL DEFAULT false, "hipaaCompliant" boolean NOT NULL DEFAULT false, "uptimePercent" numeric(5,2) NOT NULL DEFAULT '99.9', "downtimeMinutesLastMonth" integer NOT NULL DEFAULT '0', "incidentsLastMonth" integer NOT NULL DEFAULT '0', "pue" numeric(8,2) NOT NULL DEFAULT '1.4', "wue" numeric(8,2) NOT NULL DEFAULT '0', "constructionCost" numeric(12,2) NOT NULL, "monthlyOperatingCost" numeric(10,2) NOT NULL, "electricityCostPerKwh" numeric(8,4) NOT NULL, "monthlyRevenue" numeric(10,2), "constructionDate" TIMESTAMP NOT NULL, "operationalDate" TIMESTAMP, "lastMaintenanceDate" TIMESTAMP, "nextMaintenanceDate" TIMESTAMP, "renewableEnergyPercent" numeric(5,2) NOT NULL DEFAULT '0', "carbonEmissionsTonsPerYear" numeric(10,2) NOT NULL DEFAULT '0', "sustainabilityPrograms" boolean NOT NULL DEFAULT false, "alertConfig" json, "metadata" json, "user_id" integer, "datacenter_type_id" integer, CONSTRAINT "REL_4a7b85c328ae789791ff97d4db" UNIQUE ("user_id"), CONSTRAINT "PK_b5f8994192387ab0f58dc1b1616" PRIMARY KEY ("id")); COMMENT ON COLUMN "datacenter"."status" IS 'Estado del datacenter'; COMMENT ON COLUMN "datacenter"."tier" IS 'Tier del datacenter (I, II, III, IV)'; COMMENT ON COLUMN "datacenter"."country" IS 'País donde se ubica el datacenter'; COMMENT ON COLUMN "datacenter"."city" IS 'Ciudad donde se ubica el datacenter'; COMMENT ON COLUMN "datacenter"."address" IS 'Dirección física del datacenter'; COMMENT ON COLUMN "datacenter"."latitude" IS 'Latitud geográfica'; COMMENT ON COLUMN "datacenter"."longitude" IS 'Longitud geográfica'; COMMENT ON COLUMN "datacenter"."timezone" IS 'Zona horaria'; COMMENT ON COLUMN "datacenter"."totalAreaSqm" IS 'Área total en metros cuadrados'; COMMENT ON COLUMN "datacenter"."usableAreaSqm" IS 'Área utilizable en metros cuadrados'; COMMENT ON COLUMN "datacenter"."ceilingHeightM" IS 'Altura del techo en metros'; COMMENT ON COLUMN "datacenter"."maxRacks" IS 'Número máximo de racks'; COMMENT ON COLUMN "datacenter"."installedRacks" IS 'Número de racks actualmente instalados'; COMMENT ON COLUMN "datacenter"."totalPowerCapacityKw" IS 'Capacidad eléctrica total en kW'; COMMENT ON COLUMN "datacenter"."currentPowerUsageKw" IS 'Consumo eléctrico actual en kW'; COMMENT ON COLUMN "datacenter"."powerRedundancy" IS 'Nivel de redundancia eléctrica'; COMMENT ON COLUMN "datacenter"."upsCount" IS 'Número de UPS instaladas'; COMMENT ON COLUMN "datacenter"."upsTotalCapacityKva" IS 'Capacidad total de UPS en kVA'; COMMENT ON COLUMN "datacenter"."upsBackupTimeMinutes" IS 'Tiempo de autonomía de UPS en minutos'; COMMENT ON COLUMN "datacenter"."hasBackupGenerator" IS 'Si tiene generador de emergencia'; COMMENT ON COLUMN "datacenter"."generatorCapacityKw" IS 'Capacidad del generador en kW'; COMMENT ON COLUMN "datacenter"."coolingType" IS 'Tipo de sistema de refrigeración'; COMMENT ON COLUMN "datacenter"."coolingCapacityTons" IS 'Capacidad de refrigeración en toneladas'; COMMENT ON COLUMN "datacenter"."targetTemperatureC" IS 'Temperatura objetivo en grados Celsius'; COMMENT ON COLUMN "datacenter"."targetHumidityPercent" IS 'Humedad relativa objetivo en porcentaje'; COMMENT ON COLUMN "datacenter"."currentTemperatureC" IS 'Temperatura actual promedio en grados Celsius'; COMMENT ON COLUMN "datacenter"."currentHumidityPercent" IS 'Humedad relativa actual en porcentaje'; COMMENT ON COLUMN "datacenter"."totalBandwidthGbps" IS 'Ancho de banda total disponible en Gbps'; COMMENT ON COLUMN "datacenter"."usedBandwidthGbps" IS 'Ancho de banda utilizado en Gbps'; COMMENT ON COLUMN "datacenter"."ispCount" IS 'Número de proveedores de internet'; COMMENT ON COLUMN "datacenter"."ispProviders" IS 'Lista de proveedores de internet'; COMMENT ON COLUMN "datacenter"."hasBiometricAccess" IS 'Si tiene control de acceso biométrico'; COMMENT ON COLUMN "datacenter"."hasCctv" IS 'Si tiene sistema de videovigilancia'; COMMENT ON COLUMN "datacenter"."hasIntrusionDetection" IS 'Si tiene detección de intrusos'; COMMENT ON COLUMN "datacenter"."hasFireSuppression" IS 'Si tiene sistema contra incendios'; COMMENT ON COLUMN "datacenter"."securityGuardCount" IS 'Número de guardias de seguridad'; COMMENT ON COLUMN "datacenter"."certifications" IS 'Certificaciones del datacenter'; COMMENT ON COLUMN "datacenter"."gdprCompliant" IS 'Si cumple con GDPR'; COMMENT ON COLUMN "datacenter"."hipaaCompliant" IS 'Si cumple con HIPAA'; COMMENT ON COLUMN "datacenter"."uptimePercent" IS 'Uptime histórico en porcentaje'; COMMENT ON COLUMN "datacenter"."downtimeMinutesLastMonth" IS 'Tiempo total de downtime en minutos (último mes)'; COMMENT ON COLUMN "datacenter"."incidentsLastMonth" IS 'Número de incidentes (último mes)'; COMMENT ON COLUMN "datacenter"."pue" IS 'PUE (Power Usage Effectiveness)'; COMMENT ON COLUMN "datacenter"."wue" IS 'WUE (Water Usage Effectiveness)'; COMMENT ON COLUMN "datacenter"."constructionCost" IS 'Costo de construcción inicial'; COMMENT ON COLUMN "datacenter"."monthlyOperatingCost" IS 'Costos operativos mensuales'; COMMENT ON COLUMN "datacenter"."electricityCostPerKwh" IS 'Costo por kWh de electricidad'; COMMENT ON COLUMN "datacenter"."monthlyRevenue" IS 'Ingresos mensuales generados'; COMMENT ON COLUMN "datacenter"."constructionDate" IS 'Fecha de construcción'; COMMENT ON COLUMN "datacenter"."operationalDate" IS 'Fecha de inicio de operaciones'; COMMENT ON COLUMN "datacenter"."lastMaintenanceDate" IS 'Fecha de último mantenimiento'; COMMENT ON COLUMN "datacenter"."nextMaintenanceDate" IS 'Fecha del próximo mantenimiento programado'; COMMENT ON COLUMN "datacenter"."renewableEnergyPercent" IS 'Porcentaje de energía renovable utilizada'; COMMENT ON COLUMN "datacenter"."carbonEmissionsTonsPerYear" IS 'Emisiones de CO2 en toneladas por año'; COMMENT ON COLUMN "datacenter"."sustainabilityPrograms" IS 'Si participa en programas de sostenibilidad'; COMMENT ON COLUMN "datacenter"."alertConfig" IS 'Configuración de alertas y notificaciones'; COMMENT ON COLUMN "datacenter"."metadata" IS 'Metadatos adicionales'`);
        await queryRunner.query(`CREATE TYPE "public"."service_status_enum" AS ENUM('active', 'inactive', 'suspended', 'maintenance', 'terminated')`);
        await queryRunner.query(`CREATE TABLE "service" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "name" character varying(255) NOT NULL, "description" character varying(1000), "status" "public"."service_status_enum" NOT NULL DEFAULT 'inactive', "allocatedCpuCores" integer NOT NULL, "allocatedRamGb" integer NOT NULL, "allocatedStorageGb" integer NOT NULL, "allocatedBandwidthMbps" integer NOT NULL, "monthlyPrice" numeric(10,2) NOT NULL, "setupPrice" numeric(10,2), "guaranteedUptimePercent" numeric(5,2) NOT NULL, "maxLatencyMs" integer NOT NULL, "minThroughputMbps" integer NOT NULL, "serviceConfiguration" json, "currentUptimePercent" numeric(5,2), "currentAvgLatencyMs" integer, "currentAvgThroughputMbps" integer, "currentCpuUsagePercent" integer, "currentRamUsagePercent" integer, "currentStorageUsagePercent" integer, "activationDate" TIMESTAMP, "suspensionDate" TIMESTAMP, "nextMaintenanceDate" TIMESTAMP, "isAvailableForContracts" boolean NOT NULL DEFAULT true, "maxConcurrentContracts" integer, "currentActiveContracts" integer, "user_id" integer, "service_type_id" integer, "datacenter_id" integer, CONSTRAINT "PK_85a21558c006647cd76fdce044b" PRIMARY KEY ("id")); COMMENT ON COLUMN "service"."allocatedCpuCores" IS 'CPU cores asignados'; COMMENT ON COLUMN "service"."allocatedRamGb" IS 'RAM asignada en GB'; COMMENT ON COLUMN "service"."allocatedStorageGb" IS 'Almacenamiento asignado en GB'; COMMENT ON COLUMN "service"."allocatedBandwidthMbps" IS 'Ancho de banda asignado en Mbps'; COMMENT ON COLUMN "service"."monthlyPrice" IS 'Precio mensual del servicio'; COMMENT ON COLUMN "service"."setupPrice" IS 'Precio de setup inicial'; COMMENT ON COLUMN "service"."guaranteedUptimePercent" IS 'Uptime garantizado (%)'; COMMENT ON COLUMN "service"."maxLatencyMs" IS 'Latencia máxima garantizada (ms)'; COMMENT ON COLUMN "service"."minThroughputMbps" IS 'Throughput mínimo garantizado (Mbps)'; COMMENT ON COLUMN "service"."serviceConfiguration" IS 'Configuración específica del servicio'; COMMENT ON COLUMN "service"."currentUptimePercent" IS 'Uptime actual (%)'; COMMENT ON COLUMN "service"."currentAvgLatencyMs" IS 'Latencia promedio actual (ms)'; COMMENT ON COLUMN "service"."currentAvgThroughputMbps" IS 'Throughput promedio actual (Mbps)'; COMMENT ON COLUMN "service"."currentCpuUsagePercent" IS 'Uso actual de CPU (%)'; COMMENT ON COLUMN "service"."currentRamUsagePercent" IS 'Uso actual de RAM (%)'; COMMENT ON COLUMN "service"."currentStorageUsagePercent" IS 'Uso actual de almacenamiento (%)'; COMMENT ON COLUMN "service"."activationDate" IS 'Fecha de activación del servicio'; COMMENT ON COLUMN "service"."suspensionDate" IS 'Fecha de suspensión del servicio'; COMMENT ON COLUMN "service"."nextMaintenanceDate" IS 'Próximo mantenimiento programado'; COMMENT ON COLUMN "service"."isAvailableForContracts" IS 'Si el servicio está disponible para nuevos contratos'; COMMENT ON COLUMN "service"."maxConcurrentContracts" IS 'Número máximo de contratos simultáneos'; COMMENT ON COLUMN "service"."currentActiveContracts" IS 'Número actual de contratos activos'`);
        await queryRunner.query(`CREATE TYPE "public"."contract_status_enum" AS ENUM('draft', 'pending', 'active', 'suspended', 'terminated', 'expired', 'breached')`);
        await queryRunner.query(`CREATE TABLE "contract" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "contractNumber" character varying(255) NOT NULL, "description" character varying(1000), "status" "public"."contract_status_enum" NOT NULL DEFAULT 'draft', "startDate" TIMESTAMP NOT NULL, "endDate" TIMESTAMP, "signedDate" TIMESTAMP, "activationDate" TIMESTAMP, "terminationDate" TIMESTAMP, "monthlyPrice" numeric(10,2) NOT NULL, "setupFee" numeric(10,2), "securityDeposit" numeric(10,2), "billingDay" integer NOT NULL, "autoPayment" boolean NOT NULL DEFAULT false, "guaranteedUptimePercent" numeric(5,2) NOT NULL, "maxLatencyMs" integer NOT NULL, "minThroughputMbps" integer NOT NULL, "maxIncidentResolutionHours" integer, "slaPenalties" json, "contractTerms" json, "currentPeriodUptimePercent" numeric(5,2), "currentPeriodAvgLatencyMs" integer, "currentPeriodAvgThroughputMbps" integer, "currentPeriodIncidentCount" integer, "currentPeriodPenalties" numeric(10,2), "lastBillingDate" TIMESTAMP, "nextBillingDate" TIMESTAMP, "outstandingBalance" numeric(10,2), "daysPastDue" integer, "notifyIncidents" boolean NOT NULL DEFAULT true, "notifyMaintenance" boolean NOT NULL DEFAULT true, "notifyBilling" boolean NOT NULL DEFAULT true, "notifyServiceChanges" boolean NOT NULL DEFAULT false, "provider_id" integer, "client_id" integer, "service_id" integer, CONSTRAINT "PK_17c3a89f58a2997276084e706e8" PRIMARY KEY ("id")); COMMENT ON COLUMN "contract"."startDate" IS 'Fecha de inicio del contrato'; COMMENT ON COLUMN "contract"."endDate" IS 'Fecha de fin del contrato (null = indefinido)'; COMMENT ON COLUMN "contract"."signedDate" IS 'Fecha de firma del contrato'; COMMENT ON COLUMN "contract"."activationDate" IS 'Fecha de activación del servicio'; COMMENT ON COLUMN "contract"."terminationDate" IS 'Fecha de terminación del contrato'; COMMENT ON COLUMN "contract"."monthlyPrice" IS 'Precio mensual acordado'; COMMENT ON COLUMN "contract"."setupFee" IS 'Precio de setup inicial'; COMMENT ON COLUMN "contract"."securityDeposit" IS 'Depósito de garantía'; COMMENT ON COLUMN "contract"."billingDay" IS 'Día del mes para facturación (1-31)'; COMMENT ON COLUMN "contract"."autoPayment" IS 'Si el pago es automático'; COMMENT ON COLUMN "contract"."guaranteedUptimePercent" IS 'Uptime garantizado (%)'; COMMENT ON COLUMN "contract"."maxLatencyMs" IS 'Latencia máxima garantizada (ms)'; COMMENT ON COLUMN "contract"."minThroughputMbps" IS 'Throughput mínimo garantizado (Mbps)'; COMMENT ON COLUMN "contract"."maxIncidentResolutionHours" IS 'Tiempo máximo de resolución de incidentes (horas)'; COMMENT ON COLUMN "contract"."slaPenalties" IS 'Configuración de penalizaciones por SLA'; COMMENT ON COLUMN "contract"."contractTerms" IS 'Términos específicos del contrato'; COMMENT ON COLUMN "contract"."currentPeriodUptimePercent" IS 'Uptime actual del período (%)'; COMMENT ON COLUMN "contract"."currentPeriodAvgLatencyMs" IS 'Latencia promedio del período (ms)'; COMMENT ON COLUMN "contract"."currentPeriodAvgThroughputMbps" IS 'Throughput promedio del período (Mbps)'; COMMENT ON COLUMN "contract"."currentPeriodIncidentCount" IS 'Número de incidentes en el período actual'; COMMENT ON COLUMN "contract"."currentPeriodPenalties" IS 'Total de penalizaciones aplicadas en el período'; COMMENT ON COLUMN "contract"."lastBillingDate" IS 'Fecha de la última factura'; COMMENT ON COLUMN "contract"."nextBillingDate" IS 'Fecha de la próxima factura'; COMMENT ON COLUMN "contract"."outstandingBalance" IS 'Monto pendiente de pago'; COMMENT ON COLUMN "contract"."daysPastDue" IS 'Días de retraso en el pago'; COMMENT ON COLUMN "contract"."notifyIncidents" IS 'Notificar incidentes al cliente'; COMMENT ON COLUMN "contract"."notifyMaintenance" IS 'Notificar mantenimientos programados'; COMMENT ON COLUMN "contract"."notifyBilling" IS 'Notificar facturas'; COMMENT ON COLUMN "contract"."notifyServiceChanges" IS 'Notificar cambios en el servicio'`);
        await queryRunner.query(`CREATE TYPE "public"."transaction_type_enum" AS ENUM('income', 'expense', 'investment', 'penalty', 'refund')`);
        await queryRunner.query(`CREATE TYPE "public"."transaction_category_enum" AS ENUM('contract_payment', 'hardware_purchase', 'electricity', 'bandwidth', 'maintenance', 'license', 'staff', 'sla_penalty', 'ddos_mitigation')`);
        await queryRunner.query(`CREATE TABLE "transaction" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "transactionNumber" character varying(255) NOT NULL, "type" "public"."transaction_type_enum" NOT NULL, "category" "public"."transaction_category_enum" NOT NULL, "amount" numeric(15,2) NOT NULL, "currency" character varying(3) NOT NULL DEFAULT 'USD', "description" character varying(1000), "externalReference" character varying(500), "transactionDate" TIMESTAMP NOT NULL, "dueDate" TIMESTAMP, "paidDate" TIMESTAMP, "isPaid" boolean NOT NULL DEFAULT false, "isPending" boolean NOT NULL DEFAULT false, "isCancelled" boolean NOT NULL DEFAULT false, "transactionDetails" json, "invoiceNumber" character varying, "taxRate" numeric(5,2), "taxAmount" numeric(15,2), "netAmount" numeric(15,2), "paymentMethod" character varying, "paymentReference" character varying, "processingFee" numeric(15,2), "debitAccount" character varying, "creditAccount" character varying, "costCenter" character varying, "isReconciled" boolean NOT NULL DEFAULT false, "reconciledDate" TIMESTAMP, "reconciledBy" character varying, "originIpAddress" character varying, "userAgent" character varying, "metadata" json, "user_id" integer, "contract_id" integer, CONSTRAINT "PK_89eadb93a89810556e1cbcd6ab9" PRIMARY KEY ("id")); COMMENT ON COLUMN "transaction"."amount" IS 'Monto de la transacción'; COMMENT ON COLUMN "transaction"."currency" IS 'Código de moneda ISO'; COMMENT ON COLUMN "transaction"."externalReference" IS 'Referencia externa (número de factura, orden de compra, etc.)'; COMMENT ON COLUMN "transaction"."transactionDate" IS 'Fecha de la transacción'; COMMENT ON COLUMN "transaction"."dueDate" IS 'Fecha de vencimiento (para facturas)'; COMMENT ON COLUMN "transaction"."paidDate" IS 'Fecha de pago efectivo'; COMMENT ON COLUMN "transaction"."isPaid" IS 'Si la transacción ha sido pagada/procesada'; COMMENT ON COLUMN "transaction"."isPending" IS 'Si la transacción está pendiente de aprobación'; COMMENT ON COLUMN "transaction"."isCancelled" IS 'Si la transacción ha sido cancelada'; COMMENT ON COLUMN "transaction"."transactionDetails" IS 'Detalles específicos de la transacción'; COMMENT ON COLUMN "transaction"."invoiceNumber" IS 'Número de factura generada'; COMMENT ON COLUMN "transaction"."taxRate" IS 'Porcentaje de impuestos aplicados'; COMMENT ON COLUMN "transaction"."taxAmount" IS 'Monto de impuestos'; COMMENT ON COLUMN "transaction"."netAmount" IS 'Monto neto (sin impuestos)'; COMMENT ON COLUMN "transaction"."paymentMethod" IS 'Método de pago utilizado'; COMMENT ON COLUMN "transaction"."paymentReference" IS 'Referencia del pago (ID de transacción del procesador)'; COMMENT ON COLUMN "transaction"."processingFee" IS 'Comisión por procesamiento de pago'; COMMENT ON COLUMN "transaction"."debitAccount" IS 'Cuenta contable de débito'; COMMENT ON COLUMN "transaction"."creditAccount" IS 'Cuenta contable de crédito'; COMMENT ON COLUMN "transaction"."costCenter" IS 'Centro de costo'; COMMENT ON COLUMN "transaction"."isReconciled" IS 'Si la transacción ha sido reconciliada'; COMMENT ON COLUMN "transaction"."reconciledDate" IS 'Fecha de reconciliación'; COMMENT ON COLUMN "transaction"."reconciledBy" IS 'Usuario que reconcilió la transacción'; COMMENT ON COLUMN "transaction"."originIpAddress" IS 'Dirección IP desde donde se originó la transacción'; COMMENT ON COLUMN "transaction"."userAgent" IS 'User agent del cliente'; COMMENT ON COLUMN "transaction"."metadata" IS 'Metadatos adicionales de la transacción'`);
        await queryRunner.query(`CREATE TABLE "cpu" ("id" SERIAL NOT NULL, "name" character varying(255) NOT NULL, "description" character varying(255) NOT NULL, "price" integer NOT NULL, "cores" integer NOT NULL, "threads" integer NOT NULL, "mhz" integer NOT NULL, CONSTRAINT "PK_17a79b580a9a8f42234d69ee9ee" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "public"."rack_status_enum" AS ENUM('active', 'inactive', 'maintenance', 'full', 'reserved', 'decommissioned')`);
        await queryRunner.query(`CREATE TYPE "public"."rack_racktype_enum" AS ENUM('standard_19_inch', 'open_frame', 'enclosed', 'wall_mount', 'blade', 'custom')`);
        await queryRunner.query(`CREATE TYPE "public"."rack_powerphase_enum" AS ENUM('single_phase', 'three_phase')`);
        await queryRunner.query(`CREATE TYPE "public"."rack_coolingtype_enum" AS ENUM('air', 'liquid', 'immersion', 'hybrid', 'passive')`);
        await queryRunner.query(`CREATE TABLE "rack" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying, "name" character varying(100) NOT NULL, "description" character varying(255), "status" "public"."rack_status_enum" NOT NULL DEFAULT 'active', "rackType" "public"."rack_racktype_enum" NOT NULL, "row" character varying(50), "position" character varying(50), "zone" character varying(50), "coordinateX" integer, "coordinateY" integer, "heightU" integer NOT NULL DEFAULT '42', "widthMm" integer NOT NULL DEFAULT '600', "depthMm" integer NOT NULL DEFAULT '1000', "maxWeightKg" integer NOT NULL DEFAULT '1000', "currentWeightKg" integer NOT NULL DEFAULT '0', "maxServers" integer DEFAULT '15', "usedServers" integer DEFAULT '0', "usedUnitsU" integer NOT NULL DEFAULT '0', "availableUnitsU" integer NOT NULL DEFAULT '0', "maxPowerKw" integer NOT NULL, "currentPowerKw" integer NOT NULL DEFAULT '0', "inputVoltage" integer NOT NULL DEFAULT '220', "powerPhase" "public"."rack_powerphase_enum" NOT NULL DEFAULT 'single_phase', "pduCount" integer NOT NULL DEFAULT '0', "availableOutlets" integer NOT NULL DEFAULT '0', "usedOutlets" integer NOT NULL DEFAULT '0', "coolingType" "public"."rack_coolingtype_enum" NOT NULL, "targetTemperatureC" integer NOT NULL DEFAULT '22', "currentTempInletC" integer NOT NULL DEFAULT '0', "currentTempOutletC" integer NOT NULL DEFAULT '0', "targetHumidityPercent" integer NOT NULL DEFAULT '50', "currentHumidityPercent" integer NOT NULL DEFAULT '0', "airflowCfm" integer NOT NULL DEFAULT '0', "bandwidthUsage" integer DEFAULT '0', "dedicatedBandwidth" integer DEFAULT '0', "sharedBandwidth" integer DEFAULT '0', "totalBandwidth" integer DEFAULT '0', "dedicatedBandwidthUsage" integer DEFAULT '0', "sharedBandwidthUsage" integer DEFAULT '0', "totalBandwidthUsage" integer DEFAULT '0', "freeSharedBandwidth" integer DEFAULT '0', "freeDedicatedBandwidth" integer DEFAULT '0', "freeTotalBandwidth" integer DEFAULT '0', "switchCount" integer NOT NULL DEFAULT '0', "availableNetworkPorts" integer NOT NULL DEFAULT '0', "usedNetworkPorts" integer NOT NULL DEFAULT '0', "hasFiberConnectivity" boolean NOT NULL DEFAULT false, "hasSmartLock" boolean NOT NULL DEFAULT false, "hasDoorSensor" boolean NOT NULL DEFAULT false, "hasSecurityCamera" boolean NOT NULL DEFAULT false, "authorizedUsers" json, "hasVibrationSensors" boolean NOT NULL DEFAULT false, "hasSmokeSensors" boolean NOT NULL DEFAULT false, "hasWaterSensors" boolean NOT NULL DEFAULT false, "hasCurrentMonitoring" boolean NOT NULL DEFAULT false, "uptimePercent" numeric(5,2) NOT NULL DEFAULT '99.9', "downtimeMinutesLastMonth" integer NOT NULL DEFAULT '0', "alertsLastMonth" integer NOT NULL DEFAULT '0', "incidentsLastMonth" integer NOT NULL DEFAULT '0', "acquisitionCost" numeric(10,2) NOT NULL, "monthlyMaintenanceCost" numeric(8,2) NOT NULL, "monthlyRevenue" numeric(10,2), "installationDate" TIMESTAMP NOT NULL, "lastMaintenanceDate" TIMESTAMP, "nextMaintenanceDate" TIMESTAMP, "lastFirmwareUpdate" TIMESTAMP, "alertConfig" json, "metadata" json, "user_id" integer, "datacenter_id" integer, CONSTRAINT "REL_5c8ec2dd2961d44dcfbc05e9b4" UNIQUE ("user_id"), CONSTRAINT "PK_78b4dfffeae15fd5e1c895f5c7d" PRIMARY KEY ("id")); COMMENT ON COLUMN "rack"."name" IS 'Nombre del rack'; COMMENT ON COLUMN "rack"."description" IS 'Descripción del rack'; COMMENT ON COLUMN "rack"."status" IS 'Estado del rack'; COMMENT ON COLUMN "rack"."rackType" IS 'Tipo de rack'; COMMENT ON COLUMN "rack"."row" IS 'Fila donde se encuentra el rack'; COMMENT ON COLUMN "rack"."position" IS 'Posición en la fila'; COMMENT ON COLUMN "rack"."zone" IS 'Zona del datacenter'; COMMENT ON COLUMN "rack"."coordinateX" IS 'Coordenada X en el plano del datacenter'; COMMENT ON COLUMN "rack"."coordinateY" IS 'Coordenada Y en el plano del datacenter'; COMMENT ON COLUMN "rack"."heightU" IS 'Altura del rack en unidades (U)'; COMMENT ON COLUMN "rack"."widthMm" IS 'Ancho del rack en mm'; COMMENT ON COLUMN "rack"."depthMm" IS 'Profundidad del rack en mm'; COMMENT ON COLUMN "rack"."maxWeightKg" IS 'Peso máximo soportado en kg'; COMMENT ON COLUMN "rack"."currentWeightKg" IS 'Peso actual en kg'; COMMENT ON COLUMN "rack"."usedUnitsU" IS 'Unidades de rack utilizadas'; COMMENT ON COLUMN "rack"."availableUnitsU" IS 'Unidades de rack disponibles'; COMMENT ON COLUMN "rack"."maxPowerKw" IS 'Capacidad eléctrica máxima en kW'; COMMENT ON COLUMN "rack"."currentPowerKw" IS 'Consumo eléctrico actual en kW'; COMMENT ON COLUMN "rack"."inputVoltage" IS 'Voltaje de entrada'; COMMENT ON COLUMN "rack"."powerPhase" IS 'Tipo de fase eléctrica'; COMMENT ON COLUMN "rack"."pduCount" IS 'Número de PDUs instaladas'; COMMENT ON COLUMN "rack"."availableOutlets" IS 'Número de outlets disponibles'; COMMENT ON COLUMN "rack"."usedOutlets" IS 'Número de outlets utilizados'; COMMENT ON COLUMN "rack"."coolingType" IS 'Tipo de refrigeración'; COMMENT ON COLUMN "rack"."targetTemperatureC" IS 'Temperatura objetivo en grados Celsius'; COMMENT ON COLUMN "rack"."currentTempInletC" IS 'Temperatura actual en la entrada'; COMMENT ON COLUMN "rack"."currentTempOutletC" IS 'Temperatura actual en la salida'; COMMENT ON COLUMN "rack"."targetHumidityPercent" IS 'Humedad relativa objetivo en porcentaje'; COMMENT ON COLUMN "rack"."currentHumidityPercent" IS 'Humedad relativa actual en porcentaje'; COMMENT ON COLUMN "rack"."airflowCfm" IS 'Flujo de aire en CFM'; COMMENT ON COLUMN "rack"."switchCount" IS 'Número de switches instalados'; COMMENT ON COLUMN "rack"."availableNetworkPorts" IS 'Puertos de red disponibles'; COMMENT ON COLUMN "rack"."usedNetworkPorts" IS 'Puertos de red utilizados'; COMMENT ON COLUMN "rack"."hasFiberConnectivity" IS 'Si tiene conectividad de fibra óptica'; COMMENT ON COLUMN "rack"."hasSmartLock" IS 'Si tiene cerradura inteligente'; COMMENT ON COLUMN "rack"."hasDoorSensor" IS 'Si tiene sensor de apertura de puerta'; COMMENT ON COLUMN "rack"."hasSecurityCamera" IS 'Si tiene cámara de seguridad'; COMMENT ON COLUMN "rack"."authorizedUsers" IS 'Lista de usuarios con acceso'; COMMENT ON COLUMN "rack"."hasVibrationSensors" IS 'Si tiene sensores de vibración'; COMMENT ON COLUMN "rack"."hasSmokeSensors" IS 'Si tiene sensores de humo'; COMMENT ON COLUMN "rack"."hasWaterSensors" IS 'Si tiene sensores de agua'; COMMENT ON COLUMN "rack"."hasCurrentMonitoring" IS 'Si tiene monitoreo de corriente'; COMMENT ON COLUMN "rack"."uptimePercent" IS 'Uptime en porcentaje'; COMMENT ON COLUMN "rack"."downtimeMinutesLastMonth" IS 'Tiempo de downtime en minutos (último mes)'; COMMENT ON COLUMN "rack"."alertsLastMonth" IS 'Número de alertas generadas (último mes)'; COMMENT ON COLUMN "rack"."incidentsLastMonth" IS 'Número de incidentes (último mes)'; COMMENT ON COLUMN "rack"."acquisitionCost" IS 'Costo de adquisición del rack'; COMMENT ON COLUMN "rack"."monthlyMaintenanceCost" IS 'Costo de mantenimiento mensual'; COMMENT ON COLUMN "rack"."monthlyRevenue" IS 'Ingresos mensuales generados'; COMMENT ON COLUMN "rack"."installationDate" IS 'Fecha de instalación'; COMMENT ON COLUMN "rack"."lastMaintenanceDate" IS 'Fecha de último mantenimiento'; COMMENT ON COLUMN "rack"."nextMaintenanceDate" IS 'Fecha del próximo mantenimiento'; COMMENT ON COLUMN "rack"."lastFirmwareUpdate" IS 'Fecha de última actualización de firmware'; COMMENT ON COLUMN "rack"."alertConfig" IS 'Configuración de alertas'; COMMENT ON COLUMN "rack"."metadata" IS 'Metadatos adicionales'`);
        await queryRunner.query(`CREATE TABLE "ram" ("id" SERIAL NOT NULL, "name" character varying(255) NOT NULL, "description" character varying(255) NOT NULL, "price" integer NOT NULL, "capacity" integer NOT NULL, CONSTRAINT "PK_37908530e203e1d68d3619b7877" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "servers" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying, "dedicated" boolean, "vps" boolean, "vms" integer, "power_consumption" integer NOT NULL, "run" boolean, "user_id" integer, "rack_id" integer, "cpu_id" integer, "ram_id" integer, "storage_id" integer, CONSTRAINT "PK_c0947efd9f3db2dcc010164d20b" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TYPE "public"."device_devicetype_enum" AS ENUM('server', 'switch', 'router', 'firewall', 'ups', 'pdu', 'load_balancer', 'storage')`);
        await queryRunner.query(`CREATE TYPE "public"."device_status_enum" AS ENUM('active', 'inactive', 'maintenance', 'failed', 'installing')`);
        await queryRunner.query(`CREATE TABLE "device" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "name" character varying(255) NOT NULL, "description" character varying(500), "deviceType" "public"."device_devicetype_enum" NOT NULL, "status" "public"."device_status_enum" NOT NULL DEFAULT 'inactive', "rackUnits" integer NOT NULL, "powerConsumption" integer NOT NULL, "mtbf" integer NOT NULL, "purchasePrice" integer NOT NULL, "monthlyRentalPrice" integer, "specifications" json, "isRunning" boolean NOT NULL DEFAULT false, "lastStartTime" TIMESTAMP, "nextMaintenanceDate" TIMESTAMP, "serialNumber" character varying, "manufacturer" character varying, "model" character varying, "user_id" integer, "rack_id" integer, CONSTRAINT "PK_2dc10972aa4e27c01378dad2c72" PRIMARY KEY ("id")); COMMENT ON COLUMN "device"."rackUnits" IS 'Unidades de rack ocupadas'; COMMENT ON COLUMN "device"."powerConsumption" IS 'Consumo eléctrico en watts (TDP)'; COMMENT ON COLUMN "device"."mtbf" IS 'Tiempo medio entre fallos en horas'; COMMENT ON COLUMN "device"."purchasePrice" IS 'Precio de compra'; COMMENT ON COLUMN "device"."monthlyRentalPrice" IS 'Precio de arriendo mensual'; COMMENT ON COLUMN "device"."specifications" IS 'Especificaciones técnicas específicas del dispositivo'; COMMENT ON COLUMN "device"."isRunning" IS 'Si el dispositivo está en funcionamiento'; COMMENT ON COLUMN "device"."lastStartTime" IS 'Última vez que se encendió'; COMMENT ON COLUMN "device"."nextMaintenanceDate" IS 'Próximo mantenimiento programado'; COMMENT ON COLUMN "device"."serialNumber" IS 'Número de serie del fabricante'; COMMENT ON COLUMN "device"."manufacturer" IS 'Fabricante del dispositivo'; COMMENT ON COLUMN "device"."model" IS 'Modelo del dispositivo'`);
        await queryRunner.query(`CREATE TYPE "public"."incident_type_enum" AS ENUM('hardware_failure', 'power_outage', 'network_issue', 'security_breach', 'ddos_attack', 'maintenance', 'cooling_failure', 'compliance_inspection')`);
        await queryRunner.query(`CREATE TYPE "public"."incident_severity_enum" AS ENUM('low', 'medium', 'high', 'critical')`);
        await queryRunner.query(`CREATE TYPE "public"."incident_status_enum" AS ENUM('open', 'in_progress', 'resolved', 'closed')`);
        await queryRunner.query(`CREATE TABLE "incident" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "incidentNumber" character varying(255) NOT NULL, "title" character varying(500) NOT NULL, "description" text, "type" "public"."incident_type_enum" NOT NULL, "severity" "public"."incident_severity_enum" NOT NULL, "status" "public"."incident_status_enum" NOT NULL, "detectedAt" TIMESTAMP NOT NULL, "startedAt" TIMESTAMP, "assignedAt" TIMESTAMP, "workStartedAt" TIMESTAMP, "resolvedAt" TIMESTAMP, "closedAt" TIMESTAMP, "escalatedAt" TIMESTAMP, "assignedTo" character varying, "assignedTeam" character varying, "reportedBy" character varying, "resolvedBy" character varying, "closedBy" character varying, "affectedUsers" integer, "affectedServices" integer, "estimatedFinancialLoss" numeric(15,2), "downtimePercentage" numeric(5,2), "downtimeMinutes" integer, "slaResponseTimeMinutes" integer, "slaResolutionTimeMinutes" integer, "actualResponseTimeMinutes" integer, "actualResolutionTimeMinutes" integer, "slaResponseMet" boolean NOT NULL DEFAULT false, "slaResolutionMet" boolean NOT NULL DEFAULT false, "rootCause" character varying(500), "rootCauseAnalysis" text, "rootCauseCategory" character varying(200), "humanError" boolean NOT NULL DEFAULT false, "hardwareFailure" boolean NOT NULL DEFAULT false, "softwareFailure" boolean NOT NULL DEFAULT false, "externalFactor" boolean NOT NULL DEFAULT false, "resolution" text, "resolutionSteps" text, "preventiveActions" text, "requiresFollowUp" boolean NOT NULL DEFAULT false, "followUpDate" TIMESTAMP, "customersNotified" boolean NOT NULL DEFAULT false, "customerNotificationDate" TIMESTAMP, "customerNotificationMessage" text, "publishedOnStatusPage" boolean NOT NULL DEFAULT false, "wasEscalated" boolean NOT NULL DEFAULT false, "escalationReason" character varying, "escalationLevel" character varying, "escalatedTo" character varying, "isRecurring" boolean NOT NULL DEFAULT false, "occurrenceCount" integer, "parentIncidentId" integer, "lastOccurrenceDate" TIMESTAMP, "detectedBySystem" character varying, "detectionRule" character varying, "autoDetected" boolean NOT NULL DEFAULT false, "autoResolved" boolean NOT NULL DEFAULT false, "resolutionCost" numeric(15,2), "laborCost" numeric(15,2), "hardwareReplacementCost" numeric(15,2), "slaPenalties" numeric(15,2), "customerSatisfactionRating" integer, "customerFeedback" text, "technicalEvidence" json, "relatedChanges" json, "relatedIncidents" json, "metadata" json, "user_id" integer, "datacenter_id" integer, "device_id" integer, "service_id" integer, "contract_id" integer, CONSTRAINT "PK_5f90b28b0b8238d89ee8edcf96e" PRIMARY KEY ("id")); COMMENT ON COLUMN "incident"."detectedAt" IS 'Fecha y hora de detección del incidente'; COMMENT ON COLUMN "incident"."startedAt" IS 'Fecha y hora de inicio del incidente'; COMMENT ON COLUMN "incident"."assignedAt" IS 'Fecha y hora de asignación'; COMMENT ON COLUMN "incident"."workStartedAt" IS 'Fecha y hora de inicio de trabajo'; COMMENT ON COLUMN "incident"."resolvedAt" IS 'Fecha y hora de resolución'; COMMENT ON COLUMN "incident"."closedAt" IS 'Fecha y hora de cierre'; COMMENT ON COLUMN "incident"."escalatedAt" IS 'Fecha y hora de escalamiento'; COMMENT ON COLUMN "incident"."assignedTo" IS 'Usuario asignado para resolver el incidente'; COMMENT ON COLUMN "incident"."assignedTeam" IS 'Equipo responsable del incidente'; COMMENT ON COLUMN "incident"."reportedBy" IS 'Usuario que reportó el incidente'; COMMENT ON COLUMN "incident"."resolvedBy" IS 'Usuario que resolvió el incidente'; COMMENT ON COLUMN "incident"."closedBy" IS 'Usuario que cerró el incidente'; COMMENT ON COLUMN "incident"."affectedUsers" IS 'Número de usuarios afectados'; COMMENT ON COLUMN "incident"."affectedServices" IS 'Número de servicios afectados'; COMMENT ON COLUMN "incident"."estimatedFinancialLoss" IS 'Pérdida financiera estimada'; COMMENT ON COLUMN "incident"."downtimePercentage" IS 'Porcentaje de downtime'; COMMENT ON COLUMN "incident"."downtimeMinutes" IS 'Duración del downtime en minutos'; COMMENT ON COLUMN "incident"."slaResponseTimeMinutes" IS 'Tiempo objetivo de respuesta en minutos'; COMMENT ON COLUMN "incident"."slaResolutionTimeMinutes" IS 'Tiempo objetivo de resolución en minutos'; COMMENT ON COLUMN "incident"."actualResponseTimeMinutes" IS 'Tiempo real de respuesta en minutos'; COMMENT ON COLUMN "incident"."actualResolutionTimeMinutes" IS 'Tiempo real de resolución en minutos'; COMMENT ON COLUMN "incident"."slaResponseMet" IS 'Si se cumplió el SLA de respuesta'; COMMENT ON COLUMN "incident"."slaResolutionMet" IS 'Si se cumplió el SLA de resolución'; COMMENT ON COLUMN "incident"."rootCause" IS 'Causa raíz del incidente'; COMMENT ON COLUMN "incident"."rootCauseAnalysis" IS 'Análisis detallado de la causa raíz'; COMMENT ON COLUMN "incident"."rootCauseCategory" IS 'Categoría de la causa raíz'; COMMENT ON COLUMN "incident"."humanError" IS 'Si fue causado por error humano'; COMMENT ON COLUMN "incident"."hardwareFailure" IS 'Si fue causado por fallo de hardware'; COMMENT ON COLUMN "incident"."softwareFailure" IS 'Si fue causado por fallo de software'; COMMENT ON COLUMN "incident"."externalFactor" IS 'Si fue causado por factor externo'; COMMENT ON COLUMN "incident"."resolution" IS 'Descripción de la solución aplicada'; COMMENT ON COLUMN "incident"."resolutionSteps" IS 'Pasos realizados para resolver el incidente'; COMMENT ON COLUMN "incident"."preventiveActions" IS 'Acciones preventivas implementadas'; COMMENT ON COLUMN "incident"."requiresFollowUp" IS 'Si requiere seguimiento posterior'; COMMENT ON COLUMN "incident"."followUpDate" IS 'Fecha programada para seguimiento'; COMMENT ON COLUMN "incident"."customersNotified" IS 'Si se notificó a los clientes'; COMMENT ON COLUMN "incident"."customerNotificationDate" IS 'Fecha de notificación a clientes'; COMMENT ON COLUMN "incident"."customerNotificationMessage" IS 'Mensaje enviado a los clientes'; COMMENT ON COLUMN "incident"."publishedOnStatusPage" IS 'Si se publicó en página de estado'; COMMENT ON COLUMN "incident"."wasEscalated" IS 'Si el incidente fue escalado'; COMMENT ON COLUMN "incident"."escalationReason" IS 'Razón del escalamiento'; COMMENT ON COLUMN "incident"."escalationLevel" IS 'Nivel de escalamiento'; COMMENT ON COLUMN "incident"."escalatedTo" IS 'A quién se escaló'; COMMENT ON COLUMN "incident"."isRecurring" IS 'Si es un incidente recurrente'; COMMENT ON COLUMN "incident"."occurrenceCount" IS 'Número de veces que ha ocurrido'; COMMENT ON COLUMN "incident"."parentIncidentId" IS 'ID del incidente padre (si es recurrente)'; COMMENT ON COLUMN "incident"."lastOccurrenceDate" IS 'Fecha del último incidente similar'; COMMENT ON COLUMN "incident"."detectedBySystem" IS 'Sistema de monitoreo que detectó el incidente'; COMMENT ON COLUMN "incident"."detectionRule" IS 'Alerta o regla que disparó la detección'; COMMENT ON COLUMN "incident"."autoDetected" IS 'Si fue detectado automáticamente'; COMMENT ON COLUMN "incident"."autoResolved" IS 'Si se resolvió automáticamente'; COMMENT ON COLUMN "incident"."resolutionCost" IS 'Costo de resolución'; COMMENT ON COLUMN "incident"."laborCost" IS 'Costo de tiempo de personal'; COMMENT ON COLUMN "incident"."hardwareReplacementCost" IS 'Costo de reemplazo de hardware'; COMMENT ON COLUMN "incident"."slaPenalties" IS 'Penalizaciones por SLA'; COMMENT ON COLUMN "incident"."customerSatisfactionRating" IS 'Calificación de satisfacción del cliente (1-10)'; COMMENT ON COLUMN "incident"."customerFeedback" IS 'Comentarios del cliente sobre la resolución'; COMMENT ON COLUMN "incident"."technicalEvidence" IS 'Logs y evidencia técnica del incidente'; COMMENT ON COLUMN "incident"."relatedChanges" IS 'Información de cambios relacionados'; COMMENT ON COLUMN "incident"."relatedIncidents" IS 'Incidentes relacionados'; COMMENT ON COLUMN "incident"."metadata" IS 'Metadatos adicionales del incidente'`);
        await queryRunner.query(`CREATE TYPE "public"."reputation_event_eventtype_enum" AS ENUM('sla_compliance', 'sla_breach', 'incident_resolved', 'incident_prolonged', 'customer_satisfaction', 'security_incident', 'compliance_passed', 'compliance_failed')`);
        await queryRunner.query(`CREATE TABLE "reputation_event" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "eventType" "public"."reputation_event_eventtype_enum" NOT NULL, "title" character varying(500) NOT NULL, "description" text, "reputationChange" numeric(8,4) NOT NULL, "previousReputation" numeric(8,4), "newReputation" numeric(8,4), "category" character varying(100), "subcategory" character varying(100), "eventDate" TIMESTAMP NOT NULL, "expirationDate" TIMESTAMP, "isExpired" boolean NOT NULL DEFAULT false, "isActive" boolean NOT NULL DEFAULT true, "severity" character varying(50), "weight" integer, "impactMultiplier" numeric(5,2), "eventDetails" json, "isVerified" boolean NOT NULL DEFAULT false, "verifiedBy" character varying, "verifiedAt" TIMESTAMP, "isAutoGenerated" boolean NOT NULL DEFAULT false, "generatedBySystem" character varying, "isPublic" boolean NOT NULL DEFAULT true, "isFeatured" boolean NOT NULL DEFAULT false, "showInProfile" boolean NOT NULL DEFAULT false, "region" character varying, "industry" character varying, "customerSize" character varying, "isPartOfPositiveTrend" boolean NOT NULL DEFAULT false, "isPartOfNegativeTrend" boolean NOT NULL DEFAULT false, "similarEventsCount" integer, "daysSinceLastSimilarEvent" integer, "isRecoveryEvent" boolean NOT NULL DEFAULT false, "recoversFromEventId" integer, "recoveryPercentage" numeric(5,2), "competitorComparison" json, "estimatedFinancialImpact" numeric(15,2), "affectedCustomers" integer, "affectedContracts" integer, "affectedRevenue" numeric(10,2), "communicatedToStakeholders" boolean NOT NULL DEFAULT false, "communicationDate" TIMESTAMP, "communicationMessage" text, "communicationChannels" json, "requiresFollowUp" boolean NOT NULL DEFAULT false, "followUpDate" TIMESTAMP, "followUpNotes" text, "metadata" json, "user_id" integer, "contract_id" integer, "service_id" integer, "incident_id" integer, CONSTRAINT "PK_9c385721158b69c5f10911595ae" PRIMARY KEY ("id")); COMMENT ON COLUMN "reputation_event"."reputationChange" IS 'Cambio en puntos de reputación'; COMMENT ON COLUMN "reputation_event"."previousReputation" IS 'Reputación antes del evento'; COMMENT ON COLUMN "reputation_event"."newReputation" IS 'Reputación después del evento'; COMMENT ON COLUMN "reputation_event"."category" IS 'Categoría del evento de reputación'; COMMENT ON COLUMN "reputation_event"."subcategory" IS 'Subcategoría del evento'; COMMENT ON COLUMN "reputation_event"."eventDate" IS 'Fecha y hora del evento'; COMMENT ON COLUMN "reputation_event"."expirationDate" IS 'Fecha de expiración del impacto'; COMMENT ON COLUMN "reputation_event"."isExpired" IS 'Si el evento ha expirado'; COMMENT ON COLUMN "reputation_event"."isActive" IS 'Si el evento está activo'; COMMENT ON COLUMN "reputation_event"."severity" IS 'Nivel de severidad del evento'; COMMENT ON COLUMN "reputation_event"."weight" IS 'Peso del evento (1-100)'; COMMENT ON COLUMN "reputation_event"."impactMultiplier" IS 'Multiplicador de impacto'; COMMENT ON COLUMN "reputation_event"."eventDetails" IS 'Detalles específicos del evento de reputación'; COMMENT ON COLUMN "reputation_event"."isVerified" IS 'Si el evento ha sido verificado'; COMMENT ON COLUMN "reputation_event"."verifiedBy" IS 'Usuario que verificó el evento'; COMMENT ON COLUMN "reputation_event"."verifiedAt" IS 'Fecha de verificación'; COMMENT ON COLUMN "reputation_event"."isAutoGenerated" IS 'Si el evento fue generado automáticamente'; COMMENT ON COLUMN "reputation_event"."generatedBySystem" IS 'Sistema que generó el evento automáticamente'; COMMENT ON COLUMN "reputation_event"."isPublic" IS 'Si el evento es visible públicamente'; COMMENT ON COLUMN "reputation_event"."isFeatured" IS 'Si el evento es destacado'; COMMENT ON COLUMN "reputation_event"."showInProfile" IS 'Si el evento aparece en el perfil público'; COMMENT ON COLUMN "reputation_event"."region" IS 'Región geográfica del evento'; COMMENT ON COLUMN "reputation_event"."industry" IS 'Industria o sector relacionado'; COMMENT ON COLUMN "reputation_event"."customerSize" IS 'Tamaño del cliente afectado'; COMMENT ON COLUMN "reputation_event"."isPartOfPositiveTrend" IS 'Si es parte de una tendencia positiva'; COMMENT ON COLUMN "reputation_event"."isPartOfNegativeTrend" IS 'Si es parte de una tendencia negativa'; COMMENT ON COLUMN "reputation_event"."similarEventsCount" IS 'Número de eventos similares en el período'; COMMENT ON COLUMN "reputation_event"."daysSinceLastSimilarEvent" IS 'Días desde el último evento similar'; COMMENT ON COLUMN "reputation_event"."isRecoveryEvent" IS 'Si es un evento de recuperación'; COMMENT ON COLUMN "reputation_event"."recoversFromEventId" IS 'ID del evento negativo que se está recuperando'; COMMENT ON COLUMN "reputation_event"."recoveryPercentage" IS 'Porcentaje de recuperación'; COMMENT ON COLUMN "reputation_event"."competitorComparison" IS 'Comparación con competidores'; COMMENT ON COLUMN "reputation_event"."estimatedFinancialImpact" IS 'Impacto financiero estimado'; COMMENT ON COLUMN "reputation_event"."affectedCustomers" IS 'Número de clientes afectados'; COMMENT ON COLUMN "reputation_event"."affectedContracts" IS 'Número de contratos afectados'; COMMENT ON COLUMN "reputation_event"."affectedRevenue" IS 'Ingresos afectados'; COMMENT ON COLUMN "reputation_event"."communicatedToStakeholders" IS 'Si se comunicó a los stakeholders'; COMMENT ON COLUMN "reputation_event"."communicationDate" IS 'Fecha de comunicación'; COMMENT ON COLUMN "reputation_event"."communicationMessage" IS 'Mensaje de comunicación'; COMMENT ON COLUMN "reputation_event"."communicationChannels" IS 'Canales de comunicación utilizados'; COMMENT ON COLUMN "reputation_event"."requiresFollowUp" IS 'Si requiere seguimiento'; COMMENT ON COLUMN "reputation_event"."followUpDate" IS 'Fecha de seguimiento programada'; COMMENT ON COLUMN "reputation_event"."followUpNotes" IS 'Notas de seguimiento'; COMMENT ON COLUMN "reputation_event"."metadata" IS 'Metadatos adicionales del evento'`);
        await queryRunner.query(`CREATE TABLE "ranking_snapshot" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "snapshotDate" TIMESTAMP NOT NULL, "period" character varying(50) NOT NULL, "periodStart" date NOT NULL, "periodEnd" date NOT NULL, "overallRank" integer NOT NULL, "totalParticipants" integer NOT NULL, "totalScore" numeric(8,4) NOT NULL, "percentile" numeric(5,2) NOT NULL, "reputationRank" integer, "reputationScore" numeric(8,4), "revenueRank" integer, "totalRevenue" numeric(15,2), "customerRank" integer, "totalCustomers" integer, "uptimeRank" integer, "averageUptime" numeric(5,2), "innovationRank" integer, "innovationScore" numeric(8,4), "efficiencyRank" integer, "efficiencyScore" numeric(8,4), "growthRank" integer, "growthPercentage" numeric(5,2), "performanceMetrics" json, "rankChange" integer, "scoreChange" numeric(8,4), "percentileChange" numeric(5,2), "categoryChanges" json, "overallTrend" character varying(50), "trendConsistency" integer, "changeVelocity" numeric(5,2), "volatility" numeric(5,2), "achievements" json, "milestones" json, "competitorComparison" json, "region" character varying(100), "marketSegment" character varying(100), "companyCategory" character varying(100), "segmentRank" integer, "segmentParticipants" integer, "predictions" json, "dataQualityScore" numeric(5,2), "metricsIncluded" integer, "metricsMissing" integer, "isComplete" boolean NOT NULL DEFAULT false, "isVerified" boolean NOT NULL DEFAULT false, "processedAt" TIMESTAMP, "algorithmVersion" character varying, "algorithmParameters" json, "metadata" json, "user_id" integer, CONSTRAINT "PK_4882d1f3afca4a5103aea25d572" PRIMARY KEY ("id")); COMMENT ON COLUMN "ranking_snapshot"."snapshotDate" IS 'Fecha y hora de la instantánea'; COMMENT ON COLUMN "ranking_snapshot"."period" IS 'Período de la instantánea'; COMMENT ON COLUMN "ranking_snapshot"."periodStart" IS 'Fecha de inicio del período'; COMMENT ON COLUMN "ranking_snapshot"."periodEnd" IS 'Fecha de fin del período'; COMMENT ON COLUMN "ranking_snapshot"."overallRank" IS 'Posición en el ranking general'; COMMENT ON COLUMN "ranking_snapshot"."totalParticipants" IS 'Total de participantes en el ranking'; COMMENT ON COLUMN "ranking_snapshot"."totalScore" IS 'Puntuación total del usuario'; COMMENT ON COLUMN "ranking_snapshot"."percentile" IS 'Percentil del usuario (0-100)'; COMMENT ON COLUMN "ranking_snapshot"."reputationRank" IS 'Ranking por reputación'; COMMENT ON COLUMN "ranking_snapshot"."reputationScore" IS 'Puntuación de reputación'; COMMENT ON COLUMN "ranking_snapshot"."revenueRank" IS 'Ranking por ingresos'; COMMENT ON COLUMN "ranking_snapshot"."totalRevenue" IS 'Ingresos totales'; COMMENT ON COLUMN "ranking_snapshot"."customerRank" IS 'Ranking por número de clientes'; COMMENT ON COLUMN "ranking_snapshot"."totalCustomers" IS 'Número total de clientes'; COMMENT ON COLUMN "ranking_snapshot"."uptimeRank" IS 'Ranking por uptime'; COMMENT ON COLUMN "ranking_snapshot"."averageUptime" IS 'Porcentaje de uptime promedio'; COMMENT ON COLUMN "ranking_snapshot"."innovationRank" IS 'Ranking por innovación'; COMMENT ON COLUMN "ranking_snapshot"."innovationScore" IS 'Puntuación de innovación'; COMMENT ON COLUMN "ranking_snapshot"."efficiencyRank" IS 'Ranking por eficiencia'; COMMENT ON COLUMN "ranking_snapshot"."efficiencyScore" IS 'Puntuación de eficiencia'; COMMENT ON COLUMN "ranking_snapshot"."growthRank" IS 'Ranking por crecimiento'; COMMENT ON COLUMN "ranking_snapshot"."growthPercentage" IS 'Porcentaje de crecimiento'; COMMENT ON COLUMN "ranking_snapshot"."performanceMetrics" IS 'Métricas detalladas de rendimiento'; COMMENT ON COLUMN "ranking_snapshot"."rankChange" IS 'Cambio en la posición general'; COMMENT ON COLUMN "ranking_snapshot"."scoreChange" IS 'Cambio en la puntuación total'; COMMENT ON COLUMN "ranking_snapshot"."percentileChange" IS 'Cambio en el percentil'; COMMENT ON COLUMN "ranking_snapshot"."categoryChanges" IS 'Cambios detallados por categoría'; COMMENT ON COLUMN "ranking_snapshot"."overallTrend" IS 'Tendencia general'; COMMENT ON COLUMN "ranking_snapshot"."trendConsistency" IS 'Número de períodos consecutivos con la misma tendencia'; COMMENT ON COLUMN "ranking_snapshot"."changeVelocity" IS 'Velocidad de cambio'; COMMENT ON COLUMN "ranking_snapshot"."volatility" IS 'Volatilidad del ranking'; COMMENT ON COLUMN "ranking_snapshot"."achievements" IS 'Logros alcanzados en este período'; COMMENT ON COLUMN "ranking_snapshot"."milestones" IS 'Hitos importantes alcanzados'; COMMENT ON COLUMN "ranking_snapshot"."competitorComparison" IS 'Comparación con competidores principales'; COMMENT ON COLUMN "ranking_snapshot"."region" IS 'Región geográfica'; COMMENT ON COLUMN "ranking_snapshot"."marketSegment" IS 'Segmento de mercado'; COMMENT ON COLUMN "ranking_snapshot"."companyCategory" IS 'Categoría de empresa'; COMMENT ON COLUMN "ranking_snapshot"."segmentRank" IS 'Ranking dentro del segmento'; COMMENT ON COLUMN "ranking_snapshot"."segmentParticipants" IS 'Total de participantes en el segmento'; COMMENT ON COLUMN "ranking_snapshot"."predictions" IS 'Predicciones para el próximo período'; COMMENT ON COLUMN "ranking_snapshot"."dataQualityScore" IS 'Puntuación de calidad de datos'; COMMENT ON COLUMN "ranking_snapshot"."metricsIncluded" IS 'Número de métricas incluidas'; COMMENT ON COLUMN "ranking_snapshot"."metricsMissing" IS 'Número de métricas faltantes'; COMMENT ON COLUMN "ranking_snapshot"."isComplete" IS 'Si la instantánea está completa'; COMMENT ON COLUMN "ranking_snapshot"."isVerified" IS 'Si la instantánea ha sido verificada'; COMMENT ON COLUMN "ranking_snapshot"."processedAt" IS 'Fecha de procesamiento'; COMMENT ON COLUMN "ranking_snapshot"."algorithmVersion" IS 'Versión del algoritmo de ranking'; COMMENT ON COLUMN "ranking_snapshot"."algorithmParameters" IS 'Parámetros del algoritmo utilizados'; COMMENT ON COLUMN "ranking_snapshot"."metadata" IS 'Metadatos adicionales'`);
        await queryRunner.query(`CREATE TYPE "public"."cluster_status_enum" AS ENUM('creating', 'active', 'updating', 'deleting', 'failed', 'maintenance')`);
        await queryRunner.query(`CREATE TABLE "cluster" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "name" character varying(200) NOT NULL, "description" text, "status" "public"."cluster_status_enum" NOT NULL, "kubernetesVersion" character varying(50) NOT NULL, "distribution" character varying(100), "provider" character varying(100), "region" character varying(100), "availabilityZone" character varying(100), "clusterCidr" character varying(50), "serviceCidr" character varying(50), "podCidr" character varying(50), "networkPlugin" character varying(100), "networkPolicy" character varying(100), "rbacEnabled" boolean NOT NULL DEFAULT true, "networkPoliciesEnabled" boolean NOT NULL DEFAULT false, "podSecurityPoliciesEnabled" boolean NOT NULL DEFAULT false, "encryptionEnabled" boolean NOT NULL DEFAULT false, "secretsProvider" character varying(100), "defaultStorageClass" character varying(100), "storageClasses" json, "totalNodes" integer NOT NULL, "masterNodes" integer NOT NULL, "workerNodes" integer NOT NULL, "totalCpu" numeric(10,2) NOT NULL, "usedCpu" numeric(10,2) NOT NULL, "totalMemory" bigint NOT NULL, "usedMemory" bigint NOT NULL, "totalStorage" bigint NOT NULL, "usedStorage" bigint NOT NULL, "totalPods" integer NOT NULL DEFAULT '0', "runningPods" integer NOT NULL DEFAULT '0', "pendingPods" integer NOT NULL DEFAULT '0', "failedPods" integer NOT NULL DEFAULT '0', "totalServices" integer NOT NULL DEFAULT '0', "totalDeployments" integer NOT NULL DEFAULT '0', "totalNamespaces" integer NOT NULL DEFAULT '0', "autoscalingEnabled" boolean NOT NULL DEFAULT false, "minNodes" integer, "maxNodes" integer, "cpuThreshold" numeric(5,2), "memoryThreshold" numeric(5,2), "monitoringEnabled" boolean NOT NULL DEFAULT false, "monitoringSystem" character varying(100), "loggingEnabled" boolean NOT NULL DEFAULT false, "loggingSystem" character varying(100), "tracingEnabled" boolean NOT NULL DEFAULT false, "tracingSystem" character varying(100), "monthlyCost" numeric(15,2), "hourlyCost" numeric(15,2), "storageCost" numeric(15,2), "networkCost" numeric(15,2), "lastUpdated" TIMESTAMP, "lastRestart" TIMESTAMP, "nextMaintenanceDate" TIMESTAMP, "clusterConfig" json, "performanceMetrics" json, "uptimePercentage" numeric(5,2), "uptimeSeconds" integer, "lastDowntime" TIMESTAMP, "lastDowntimeDuration" integer, "backupEnabled" boolean NOT NULL DEFAULT false, "backupStrategy" character varying(100), "lastBackupDate" TIMESTAMP, "lastBackupStatus" character varying(50), "backupRetentionCount" integer, "labels" json, "annotations" json, "metadata" json, "user_id" integer, "service_id" integer, CONSTRAINT "PK_b09d39b9491ce5cb1e8407761fd" PRIMARY KEY ("id")); COMMENT ON COLUMN "cluster"."name" IS 'Nombre del cluster'; COMMENT ON COLUMN "cluster"."description" IS 'Descripción del cluster'; COMMENT ON COLUMN "cluster"."status" IS 'Estado del cluster'; COMMENT ON COLUMN "cluster"."kubernetesVersion" IS 'Versión de Kubernetes'; COMMENT ON COLUMN "cluster"."distribution" IS 'Distribución de Kubernetes'; COMMENT ON COLUMN "cluster"."provider" IS 'Proveedor de infraestructura'; COMMENT ON COLUMN "cluster"."region" IS 'Región del cluster'; COMMENT ON COLUMN "cluster"."availabilityZone" IS 'Zona de disponibilidad'; COMMENT ON COLUMN "cluster"."clusterCidr" IS 'CIDR del cluster'; COMMENT ON COLUMN "cluster"."serviceCidr" IS 'CIDR de servicios'; COMMENT ON COLUMN "cluster"."podCidr" IS 'CIDR de pods'; COMMENT ON COLUMN "cluster"."networkPlugin" IS 'Plugin de red (CNI)'; COMMENT ON COLUMN "cluster"."networkPolicy" IS 'Política de red'; COMMENT ON COLUMN "cluster"."rbacEnabled" IS 'Si RBAC está habilitado'; COMMENT ON COLUMN "cluster"."networkPoliciesEnabled" IS 'Si Network Policies están habilitadas'; COMMENT ON COLUMN "cluster"."podSecurityPoliciesEnabled" IS 'Si Pod Security Policies están habilitadas'; COMMENT ON COLUMN "cluster"."encryptionEnabled" IS 'Si el cifrado está habilitado'; COMMENT ON COLUMN "cluster"."secretsProvider" IS 'Proveedor de secretos'; COMMENT ON COLUMN "cluster"."defaultStorageClass" IS 'Clase de almacenamiento por defecto'; COMMENT ON COLUMN "cluster"."storageClasses" IS 'Clases de almacenamiento disponibles'; COMMENT ON COLUMN "cluster"."totalNodes" IS 'Número total de nodos'; COMMENT ON COLUMN "cluster"."masterNodes" IS 'Número de nodos master'; COMMENT ON COLUMN "cluster"."workerNodes" IS 'Número de nodos worker'; COMMENT ON COLUMN "cluster"."totalCpu" IS 'CPU total disponible (cores)'; COMMENT ON COLUMN "cluster"."usedCpu" IS 'CPU total utilizada (cores)'; COMMENT ON COLUMN "cluster"."totalMemory" IS 'Memoria total disponible (bytes)'; COMMENT ON COLUMN "cluster"."usedMemory" IS 'Memoria total utilizada (bytes)'; COMMENT ON COLUMN "cluster"."totalStorage" IS 'Almacenamiento total disponible (bytes)'; COMMENT ON COLUMN "cluster"."usedStorage" IS 'Almacenamiento total utilizado (bytes)'; COMMENT ON COLUMN "cluster"."totalPods" IS 'Número total de pods'; COMMENT ON COLUMN "cluster"."runningPods" IS 'Número de pods en ejecución'; COMMENT ON COLUMN "cluster"."pendingPods" IS 'Número de pods pendientes'; COMMENT ON COLUMN "cluster"."failedPods" IS 'Número de pods fallidos'; COMMENT ON COLUMN "cluster"."totalServices" IS 'Número total de servicios'; COMMENT ON COLUMN "cluster"."totalDeployments" IS 'Número total de deployments'; COMMENT ON COLUMN "cluster"."totalNamespaces" IS 'Número total de namespaces'; COMMENT ON COLUMN "cluster"."autoscalingEnabled" IS 'Si el autoescalado está habilitado'; COMMENT ON COLUMN "cluster"."minNodes" IS 'Número mínimo de nodos'; COMMENT ON COLUMN "cluster"."maxNodes" IS 'Número máximo de nodos'; COMMENT ON COLUMN "cluster"."cpuThreshold" IS 'Umbral de CPU para autoescalado (%)'; COMMENT ON COLUMN "cluster"."memoryThreshold" IS 'Umbral de memoria para autoescalado (%)'; COMMENT ON COLUMN "cluster"."monitoringEnabled" IS 'Si el monitoreo está habilitado'; COMMENT ON COLUMN "cluster"."monitoringSystem" IS 'Sistema de monitoreo'; COMMENT ON COLUMN "cluster"."loggingEnabled" IS 'Si el logging está habilitado'; COMMENT ON COLUMN "cluster"."loggingSystem" IS 'Sistema de logging'; COMMENT ON COLUMN "cluster"."tracingEnabled" IS 'Si el tracing está habilitado'; COMMENT ON COLUMN "cluster"."tracingSystem" IS 'Sistema de tracing'; COMMENT ON COLUMN "cluster"."monthlyCost" IS 'Costo mensual estimado'; COMMENT ON COLUMN "cluster"."hourlyCost" IS 'Costo por hora'; COMMENT ON COLUMN "cluster"."storageCost" IS 'Costo de almacenamiento mensual'; COMMENT ON COLUMN "cluster"."networkCost" IS 'Costo de red mensual'; COMMENT ON COLUMN "cluster"."lastUpdated" IS 'Fecha de última actualización'; COMMENT ON COLUMN "cluster"."lastRestart" IS 'Fecha de último reinicio'; COMMENT ON COLUMN "cluster"."nextMaintenanceDate" IS 'Fecha de próximo mantenimiento'; COMMENT ON COLUMN "cluster"."clusterConfig" IS 'Configuración detallada del cluster'; COMMENT ON COLUMN "cluster"."performanceMetrics" IS 'Métricas de rendimiento del cluster'; COMMENT ON COLUMN "cluster"."uptimePercentage" IS 'Porcentaje de uptime'; COMMENT ON COLUMN "cluster"."uptimeSeconds" IS 'Tiempo de actividad en segundos'; COMMENT ON COLUMN "cluster"."lastDowntime" IS 'Última vez que estuvo inactivo'; COMMENT ON COLUMN "cluster"."lastDowntimeDuration" IS 'Duración del último downtime en segundos'; COMMENT ON COLUMN "cluster"."backupEnabled" IS 'Si el backup está habilitado'; COMMENT ON COLUMN "cluster"."backupStrategy" IS 'Estrategia de backup'; COMMENT ON COLUMN "cluster"."lastBackupDate" IS 'Fecha del último backup'; COMMENT ON COLUMN "cluster"."lastBackupStatus" IS 'Estado del último backup'; COMMENT ON COLUMN "cluster"."backupRetentionCount" IS 'Número de backups retenidos'; COMMENT ON COLUMN "cluster"."labels" IS 'Etiquetas del cluster'; COMMENT ON COLUMN "cluster"."annotations" IS 'Anotaciones del cluster'; COMMENT ON COLUMN "cluster"."metadata" IS 'Metadatos adicionales'`);
        await queryRunner.query(`CREATE TYPE "public"."node_status_enum" AS ENUM('ready', 'not_ready', 'unknown', 'scheduling_disabled')`);
        await queryRunner.query(`CREATE TABLE "node" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "name" character varying(200) NOT NULL, "description" text, "status" "public"."node_status_enum" NOT NULL, "nodeType" character varying(50) NOT NULL, "role" character varying(100) NOT NULL, "hostname" character varying(100), "internalIp" character varying(50), "externalIp" character varying(50), "availabilityZone" character varying(100), "region" character varying(100), "operatingSystem" character varying(100), "osVersion" character varying(50), "osImage" character varying(100), "architecture" character varying(100), "kernelVersion" character varying(50), "kubeletVersion" character varying(50) NOT NULL, "kubeProxyVersion" character varying(50), "containerRuntime" character varying(100), "containerRuntimeVersion" character varying(50), "totalCpu" numeric(10,2) NOT NULL, "allocatableCpu" numeric(10,2) NOT NULL, "usedCpu" numeric(10,2) NOT NULL, "totalMemory" bigint NOT NULL, "allocatableMemory" bigint NOT NULL, "usedMemory" bigint NOT NULL, "totalStorage" bigint NOT NULL, "allocatableStorage" bigint NOT NULL, "usedStorage" bigint NOT NULL, "maxPods" integer NOT NULL, "currentPods" integer NOT NULL DEFAULT '0', "networkInterfaces" json, "podCidr" character varying(50), "networkConfig" json, "ready" boolean NOT NULL DEFAULT true, "memoryPressure" boolean NOT NULL DEFAULT false, "diskPressure" boolean NOT NULL DEFAULT false, "pidPressure" boolean NOT NULL DEFAULT false, "networkUnavailable" boolean NOT NULL DEFAULT false, "lastReadyTime" TIMESTAMP, "lastTransitionTime" TIMESTAMP, "taints" json, "cordoned" boolean NOT NULL DEFAULT false, "draining" boolean NOT NULL DEFAULT false, "cordonedAt" TIMESTAMP, "schedulable" boolean NOT NULL DEFAULT true, "nodeSelectors" json, "nodeAffinity" json, "performanceMetrics" json, "uptimePercentage" numeric(5,2), "uptimeSeconds" integer, "lastDowntime" TIMESTAMP, "restartCount" integer, "lastRestartDate" TIMESTAMP, "joinedAt" TIMESTAMP NOT NULL, "lastUpdated" TIMESTAMP, "lastHeartbeat" TIMESTAMP, "nextMaintenanceDate" TIMESTAMP, "hourlyCost" numeric(15,2), "monthlyCost" numeric(15,2), "kubeletConfig" json, "labels" json, "annotations" json, "metadata" json, "user_id" integer, "cluster_id" integer, "device_id" integer, CONSTRAINT "PK_8c8caf5f29d25264abe9eaf94dd" PRIMARY KEY ("id")); COMMENT ON COLUMN "node"."name" IS 'Nombre del nodo'; COMMENT ON COLUMN "node"."description" IS 'Descripción del nodo'; COMMENT ON COLUMN "node"."status" IS 'Estado del nodo'; COMMENT ON COLUMN "node"."nodeType" IS 'Tipo de nodo'; COMMENT ON COLUMN "node"."role" IS 'Rol del nodo'; COMMENT ON COLUMN "node"."hostname" IS 'Hostname del nodo'; COMMENT ON COLUMN "node"."internalIp" IS 'Dirección IP interna'; COMMENT ON COLUMN "node"."externalIp" IS 'Dirección IP externa'; COMMENT ON COLUMN "node"."availabilityZone" IS 'Zona de disponibilidad'; COMMENT ON COLUMN "node"."region" IS 'Región'; COMMENT ON COLUMN "node"."operatingSystem" IS 'Sistema operativo'; COMMENT ON COLUMN "node"."osVersion" IS 'Versión del OS'; COMMENT ON COLUMN "node"."osImage" IS 'Imagen del OS'; COMMENT ON COLUMN "node"."architecture" IS 'Arquitectura del procesador'; COMMENT ON COLUMN "node"."kernelVersion" IS 'Versión del kernel'; COMMENT ON COLUMN "node"."kubeletVersion" IS 'Versión de kubelet'; COMMENT ON COLUMN "node"."kubeProxyVersion" IS 'Versión de kube-proxy'; COMMENT ON COLUMN "node"."containerRuntime" IS 'Runtime de contenedores'; COMMENT ON COLUMN "node"."containerRuntimeVersion" IS 'Versión del runtime'; COMMENT ON COLUMN "node"."totalCpu" IS 'CPU total (cores)'; COMMENT ON COLUMN "node"."allocatableCpu" IS 'CPU asignable (cores)'; COMMENT ON COLUMN "node"."usedCpu" IS 'CPU utilizada (cores)'; COMMENT ON COLUMN "node"."totalMemory" IS 'Memoria total (bytes)'; COMMENT ON COLUMN "node"."allocatableMemory" IS 'Memoria asignable (bytes)'; COMMENT ON COLUMN "node"."usedMemory" IS 'Memoria utilizada (bytes)'; COMMENT ON COLUMN "node"."totalStorage" IS 'Almacenamiento total (bytes)'; COMMENT ON COLUMN "node"."allocatableStorage" IS 'Almacenamiento asignable (bytes)'; COMMENT ON COLUMN "node"."usedStorage" IS 'Almacenamiento utilizado (bytes)'; COMMENT ON COLUMN "node"."maxPods" IS 'Número máximo de pods'; COMMENT ON COLUMN "node"."currentPods" IS 'Número de pods actuales'; COMMENT ON COLUMN "node"."networkInterfaces" IS 'Interfaces de red'; COMMENT ON COLUMN "node"."podCidr" IS 'CIDR de pods'; COMMENT ON COLUMN "node"."networkConfig" IS 'Configuración de red'; COMMENT ON COLUMN "node"."ready" IS 'Si el nodo está listo'; COMMENT ON COLUMN "node"."memoryPressure" IS 'Si hay presión de memoria'; COMMENT ON COLUMN "node"."diskPressure" IS 'Si hay presión de disco'; COMMENT ON COLUMN "node"."pidPressure" IS 'Si hay presión de PID'; COMMENT ON COLUMN "node"."networkUnavailable" IS 'Si la red no está disponible'; COMMENT ON COLUMN "node"."lastReadyTime" IS 'Última vez que el nodo estuvo listo'; COMMENT ON COLUMN "node"."lastTransitionTime" IS 'Última transición de estado'; COMMENT ON COLUMN "node"."taints" IS 'Taints del nodo'; COMMENT ON COLUMN "node"."cordoned" IS 'Si el nodo está acordonado'; COMMENT ON COLUMN "node"."draining" IS 'Si el nodo está siendo drenado'; COMMENT ON COLUMN "node"."cordonedAt" IS 'Fecha de acordonamiento'; COMMENT ON COLUMN "node"."schedulable" IS 'Si el nodo puede recibir pods'; COMMENT ON COLUMN "node"."nodeSelectors" IS 'Selectores de nodo'; COMMENT ON COLUMN "node"."nodeAffinity" IS 'Afinidad de nodo'; COMMENT ON COLUMN "node"."performanceMetrics" IS 'Métricas de rendimiento del nodo'; COMMENT ON COLUMN "node"."uptimePercentage" IS 'Porcentaje de uptime'; COMMENT ON COLUMN "node"."uptimeSeconds" IS 'Tiempo de actividad en segundos'; COMMENT ON COLUMN "node"."lastDowntime" IS 'Última vez que estuvo inactivo'; COMMENT ON COLUMN "node"."restartCount" IS 'Número de reinicios'; COMMENT ON COLUMN "node"."lastRestartDate" IS 'Fecha del último reinicio'; COMMENT ON COLUMN "node"."joinedAt" IS 'Fecha de unión al cluster'; COMMENT ON COLUMN "node"."lastUpdated" IS 'Fecha de última actualización'; COMMENT ON COLUMN "node"."lastHeartbeat" IS 'Fecha de último heartbeat'; COMMENT ON COLUMN "node"."nextMaintenanceDate" IS 'Fecha de próximo mantenimiento'; COMMENT ON COLUMN "node"."hourlyCost" IS 'Costo por hora del nodo'; COMMENT ON COLUMN "node"."monthlyCost" IS 'Costo mensual estimado'; COMMENT ON COLUMN "node"."kubeletConfig" IS 'Configuración de kubelet'; COMMENT ON COLUMN "node"."labels" IS 'Etiquetas del nodo'; COMMENT ON COLUMN "node"."annotations" IS 'Anotaciones del nodo'; COMMENT ON COLUMN "node"."metadata" IS 'Metadatos adicionales'`);
        await queryRunner.query(`CREATE TYPE "public"."pod_status_enum" AS ENUM('pending', 'running', 'succeeded', 'failed', 'unknown')`);
        await queryRunner.query(`CREATE TYPE "public"."pod_restartpolicy_enum" AS ENUM('Always', 'OnFailure', 'Never')`);
        await queryRunner.query(`CREATE TABLE "pod" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "name" character varying(200) NOT NULL, "namespace" character varying(100) NOT NULL, "description" text, "status" "public"."pod_status_enum" NOT NULL, "statusReason" character varying(200), "statusMessage" text, "podIp" character varying(50), "hostIp" character varying(50), "podNetwork" character varying(100), "restartPolicy" "public"."pod_restartpolicy_enum" NOT NULL DEFAULT 'Always', "terminationGracePeriodSeconds" integer, "activeDeadlineSeconds" integer, "serviceAccount" character varying(100), "automountServiceAccountToken" boolean NOT NULL DEFAULT false, "nodeName" character varying(100), "nodeSelector" json, "tolerations" json, "affinity" json, "priorityClassName" character varying(100), "priority" integer, "preemptionPolicy" boolean NOT NULL DEFAULT false, "containers" json NOT NULL, "initContainers" json, "ephemeralContainers" json, "volumes" json, "securityContext" json, "imagePullSecrets" json, "dnsPolicy" character varying(100), "dnsConfig" json, "hostname" character varying(100), "subdomain" character varying(100), "hostNetwork" boolean NOT NULL DEFAULT false, "hostPID" boolean NOT NULL DEFAULT false, "hostIPC" boolean NOT NULL DEFAULT false, "containerStatuses" json, "initContainerStatuses" json, "ephemeralContainerStatuses" json, "conditions" json, "startedAt" TIMESTAMP, "finishedAt" TIMESTAMP, "deletionTimestamp" TIMESTAMP, "lastUpdated" TIMESTAMP, "resourceUsage" json, "hourlyCost" numeric(15,6), "accumulatedCost" numeric(15,2), "labels" json, "annotations" json, "metadata" json, "user_id" integer, "cluster_id" integer, "node_id" integer, CONSTRAINT "PK_e0c9781a591a0818882ad6f15a0" PRIMARY KEY ("id")); COMMENT ON COLUMN "pod"."name" IS 'Nombre del pod'; COMMENT ON COLUMN "pod"."namespace" IS 'Namespace del pod'; COMMENT ON COLUMN "pod"."description" IS 'Descripción del pod'; COMMENT ON COLUMN "pod"."status" IS 'Estado del pod'; COMMENT ON COLUMN "pod"."statusReason" IS 'Razón del estado actual'; COMMENT ON COLUMN "pod"."statusMessage" IS 'Mensaje del estado actual'; COMMENT ON COLUMN "pod"."podIp" IS 'Dirección IP del pod'; COMMENT ON COLUMN "pod"."hostIp" IS 'IP del host'; COMMENT ON COLUMN "pod"."podNetwork" IS 'Red del pod'; COMMENT ON COLUMN "pod"."restartPolicy" IS 'Política de reinicio'; COMMENT ON COLUMN "pod"."terminationGracePeriodSeconds" IS 'Tiempo de gracia para terminación (segundos)'; COMMENT ON COLUMN "pod"."activeDeadlineSeconds" IS 'Tiempo de gracia activo para terminación (segundos)'; COMMENT ON COLUMN "pod"."serviceAccount" IS 'Cuenta de servicio'; COMMENT ON COLUMN "pod"."automountServiceAccountToken" IS 'Si usa la cuenta de servicio por defecto'; COMMENT ON COLUMN "pod"."nodeName" IS 'Nombre del nodo asignado'; COMMENT ON COLUMN "pod"."nodeSelector" IS 'Selectores de nodo'; COMMENT ON COLUMN "pod"."tolerations" IS 'Tolerations del pod'; COMMENT ON COLUMN "pod"."affinity" IS 'Afinidad del pod'; COMMENT ON COLUMN "pod"."priorityClassName" IS 'Clase de prioridad'; COMMENT ON COLUMN "pod"."priority" IS 'Valor de prioridad'; COMMENT ON COLUMN "pod"."preemptionPolicy" IS 'Si puede ser desalojado'; COMMENT ON COLUMN "pod"."containers" IS 'Contenedores del pod'; COMMENT ON COLUMN "pod"."initContainers" IS 'Contenedores init'; COMMENT ON COLUMN "pod"."ephemeralContainers" IS 'Contenedores ephemeral'; COMMENT ON COLUMN "pod"."volumes" IS 'Volúmenes del pod'; COMMENT ON COLUMN "pod"."securityContext" IS 'Contexto de seguridad del pod'; COMMENT ON COLUMN "pod"."imagePullSecrets" IS 'Secretos para pull de imágenes'; COMMENT ON COLUMN "pod"."dnsPolicy" IS 'Política de DNS'; COMMENT ON COLUMN "pod"."dnsConfig" IS 'Configuración de DNS'; COMMENT ON COLUMN "pod"."hostname" IS 'Hostname del pod'; COMMENT ON COLUMN "pod"."subdomain" IS 'Subdomain del pod'; COMMENT ON COLUMN "pod"."hostNetwork" IS 'Si usa la red del host'; COMMENT ON COLUMN "pod"."hostPID" IS 'Si usa el PID del host'; COMMENT ON COLUMN "pod"."hostIPC" IS 'Si usa el IPC del host'; COMMENT ON COLUMN "pod"."containerStatuses" IS 'Estados de los contenedores'; COMMENT ON COLUMN "pod"."initContainerStatuses" IS 'Estados de los contenedores init'; COMMENT ON COLUMN "pod"."ephemeralContainerStatuses" IS 'Estados de los contenedores ephemeral'; COMMENT ON COLUMN "pod"."conditions" IS 'Condiciones del pod'; COMMENT ON COLUMN "pod"."startedAt" IS 'Fecha de inicio'; COMMENT ON COLUMN "pod"."finishedAt" IS 'Fecha de finalización'; COMMENT ON COLUMN "pod"."deletionTimestamp" IS 'Fecha de eliminación'; COMMENT ON COLUMN "pod"."lastUpdated" IS 'Fecha de última actualización'; COMMENT ON COLUMN "pod"."resourceUsage" IS 'Uso actual de recursos'; COMMENT ON COLUMN "pod"."hourlyCost" IS 'Costo por hora del pod'; COMMENT ON COLUMN "pod"."accumulatedCost" IS 'Costo acumulado'; COMMENT ON COLUMN "pod"."labels" IS 'Etiquetas del pod'; COMMENT ON COLUMN "pod"."annotations" IS 'Anotaciones del pod'; COMMENT ON COLUMN "pod"."metadata" IS 'Metadatos adicionales'`);
        await queryRunner.query(`CREATE TYPE "public"."network_config_status_enum" AS ENUM('active', 'inactive', 'maintenance', 'error', 'congested')`);
        await queryRunner.query(`CREATE TYPE "public"."network_config_networktype_enum" AS ENUM('lan', 'wan', 'vlan', 'vpn', 'internet', 'private')`);
        await queryRunner.query(`CREATE TABLE "network_config" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "name" character varying(200) NOT NULL, "description" text, "status" "public"."network_config_status_enum" NOT NULL DEFAULT 'active', "networkType" "public"."network_config_networktype_enum" NOT NULL, "enabled" boolean NOT NULL DEFAULT true, "isSystemConfig" boolean NOT NULL DEFAULT false, "networkAddress" character varying(100), "subnetMask" character varying(50), "cidr" character varying(100), "defaultGateway" character varying(100), "mtu" integer, "vlans" json, "subnets" json, "routingConfig" json, "dnsConfig" json, "dhcpConfig" json, "securityConfig" json, "qosConfig" json, "monitoringConfig" json, "performanceMetrics" json, "lastModified" TIMESTAMP, "lastApplied" TIMESTAMP, "lastBackup" TIMESTAMP, "monthlyCost" numeric(10,2), "costPerGb" numeric(10,6), "tags" json, "environment" character varying(100), "region" character varying(100), "metadata" json, "user_id" integer, "datacenter_id" integer, "device_id" integer, CONSTRAINT "PK_605fd3c70626b25fccde6966070" PRIMARY KEY ("id")); COMMENT ON COLUMN "network_config"."name" IS 'Nombre de la configuración de red'; COMMENT ON COLUMN "network_config"."description" IS 'Descripción de la configuración'; COMMENT ON COLUMN "network_config"."status" IS 'Estado de la configuración'; COMMENT ON COLUMN "network_config"."networkType" IS 'Tipo de red'; COMMENT ON COLUMN "network_config"."enabled" IS 'Si la configuración está habilitada'; COMMENT ON COLUMN "network_config"."isSystemConfig" IS 'Si es una configuración del sistema'; COMMENT ON COLUMN "network_config"."networkAddress" IS 'Dirección de red principal'; COMMENT ON COLUMN "network_config"."subnetMask" IS 'Máscara de subred'; COMMENT ON COLUMN "network_config"."cidr" IS 'CIDR de la red'; COMMENT ON COLUMN "network_config"."defaultGateway" IS 'Gateway por defecto'; COMMENT ON COLUMN "network_config"."mtu" IS 'MTU de la red'; COMMENT ON COLUMN "network_config"."vlans" IS 'Configuración de VLANs'; COMMENT ON COLUMN "network_config"."subnets" IS 'Configuración de subredes'; COMMENT ON COLUMN "network_config"."routingConfig" IS 'Configuración de routing'; COMMENT ON COLUMN "network_config"."dnsConfig" IS 'Configuración de DNS'; COMMENT ON COLUMN "network_config"."dhcpConfig" IS 'Configuración de DHCP'; COMMENT ON COLUMN "network_config"."securityConfig" IS 'Configuración de seguridad'; COMMENT ON COLUMN "network_config"."qosConfig" IS 'Configuración de QoS'; COMMENT ON COLUMN "network_config"."monitoringConfig" IS 'Configuración de monitoreo de red'; COMMENT ON COLUMN "network_config"."performanceMetrics" IS 'Métricas de rendimiento de red'; COMMENT ON COLUMN "network_config"."lastModified" IS 'Fecha de última modificación'; COMMENT ON COLUMN "network_config"."lastApplied" IS 'Fecha de última aplicación'; COMMENT ON COLUMN "network_config"."lastBackup" IS 'Fecha de último backup'; COMMENT ON COLUMN "network_config"."monthlyCost" IS 'Costo mensual de la configuración'; COMMENT ON COLUMN "network_config"."costPerGb" IS 'Costo por GB transferido'; COMMENT ON COLUMN "network_config"."tags" IS 'Etiquetas de la configuración'; COMMENT ON COLUMN "network_config"."environment" IS 'Entorno (dev, staging, prod)'; COMMENT ON COLUMN "network_config"."region" IS 'Región geográfica'; COMMENT ON COLUMN "network_config"."metadata" IS 'Metadatos adicionales'`);
        await queryRunner.query(`CREATE TYPE "public"."load_balancer_status_enum" AS ENUM('active', 'inactive', 'maintenance', 'error')`);
        await queryRunner.query(`CREATE TYPE "public"."load_balancer_type_enum" AS ENUM('layer_4', 'layer_7', 'application', 'network')`);
        await queryRunner.query(`CREATE TYPE "public"."load_balancer_algorithm_enum" AS ENUM('round_robin', 'least_connections', 'weighted_round_robin', 'ip_hash', 'least_response_time')`);
        await queryRunner.query(`CREATE TABLE "load_balancer" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "name" character varying(200) NOT NULL, "description" text, "status" "public"."load_balancer_status_enum" NOT NULL DEFAULT 'active', "type" "public"."load_balancer_type_enum" NOT NULL, "algorithm" "public"."load_balancer_algorithm_enum" NOT NULL DEFAULT 'round_robin', "enabled" boolean NOT NULL DEFAULT true, "isSystemLoadBalancer" boolean NOT NULL DEFAULT false, "virtualIp" character varying(100) NOT NULL, "virtualPort" integer NOT NULL, "networkInterface" character varying(100), "vlanId" character varying(50), "sslConfig" json, "backendServers" json NOT NULL, "healthCheckConfig" json, "sessionConfig" json, "timeoutConfig" json, "limitsConfig" json, "loggingConfig" json, "compressionConfig" json, "cacheConfig" json, "totalConnections" bigint DEFAULT '0', "activeConnections" bigint DEFAULT '0', "totalRequests" bigint DEFAULT '0', "currentRps" bigint DEFAULT '0', "bytesTransferred" bigint DEFAULT '0', "averageResponseTime" numeric(10,2), "availability" numeric(5,2), "errorCount" integer DEFAULT '0', "errorRate" numeric(5,2), "performanceMetrics" json, "haConfig" json, "securityConfig" json, "lastModified" TIMESTAMP, "lastRestart" TIMESTAMP, "lastHealthCheck" TIMESTAMP, "lastMaintenance" TIMESTAMP, "monthlyCost" numeric(10,2), "hourlyCost" numeric(10,4), "costPerRequest" numeric(10,6), "costPerGb" numeric(10,4), "tags" json, "environment" character varying(100), "region" character varying(100), "availabilityZone" character varying(100), "metadata" json, "user_id" integer, "datacenter_id" integer, "device_id" integer, CONSTRAINT "PK_602633aa1c4c1fbccc503e355b6" PRIMARY KEY ("id")); COMMENT ON COLUMN "load_balancer"."name" IS 'Nombre del balanceador'; COMMENT ON COLUMN "load_balancer"."description" IS 'Descripción del balanceador'; COMMENT ON COLUMN "load_balancer"."status" IS 'Estado del balanceador'; COMMENT ON COLUMN "load_balancer"."type" IS 'Tipo de balanceador'; COMMENT ON COLUMN "load_balancer"."algorithm" IS 'Algoritmo de balanceo'; COMMENT ON COLUMN "load_balancer"."enabled" IS 'Si el balanceador está habilitado'; COMMENT ON COLUMN "load_balancer"."isSystemLoadBalancer" IS 'Si es un balanceador del sistema'; COMMENT ON COLUMN "load_balancer"."virtualIp" IS 'Dirección IP virtual (VIP)'; COMMENT ON COLUMN "load_balancer"."virtualPort" IS 'Puerto virtual'; COMMENT ON COLUMN "load_balancer"."networkInterface" IS 'Interfaz de red'; COMMENT ON COLUMN "load_balancer"."vlanId" IS 'VLAN ID'; COMMENT ON COLUMN "load_balancer"."sslConfig" IS 'Configuración de SSL/TLS'; COMMENT ON COLUMN "load_balancer"."backendServers" IS 'Lista de servidores backend'; COMMENT ON COLUMN "load_balancer"."healthCheckConfig" IS 'Configuración de health checks'; COMMENT ON COLUMN "load_balancer"."sessionConfig" IS 'Configuración de persistencia de sesión'; COMMENT ON COLUMN "load_balancer"."timeoutConfig" IS 'Configuración de timeouts'; COMMENT ON COLUMN "load_balancer"."limitsConfig" IS 'Configuración de límites'; COMMENT ON COLUMN "load_balancer"."loggingConfig" IS 'Configuración de logging'; COMMENT ON COLUMN "load_balancer"."compressionConfig" IS 'Configuración de compresión'; COMMENT ON COLUMN "load_balancer"."cacheConfig" IS 'Configuración de cache'; COMMENT ON COLUMN "load_balancer"."totalConnections" IS 'Total de conexiones procesadas'; COMMENT ON COLUMN "load_balancer"."activeConnections" IS 'Conexiones activas actuales'; COMMENT ON COLUMN "load_balancer"."totalRequests" IS 'Total de requests procesados'; COMMENT ON COLUMN "load_balancer"."currentRps" IS 'Requests por segundo actuales'; COMMENT ON COLUMN "load_balancer"."bytesTransferred" IS 'Bytes transferidos'; COMMENT ON COLUMN "load_balancer"."averageResponseTime" IS 'Tiempo de respuesta promedio (ms)'; COMMENT ON COLUMN "load_balancer"."availability" IS 'Porcentaje de disponibilidad'; COMMENT ON COLUMN "load_balancer"."errorCount" IS 'Número de errores'; COMMENT ON COLUMN "load_balancer"."errorRate" IS 'Tasa de error (%)'; COMMENT ON COLUMN "load_balancer"."performanceMetrics" IS 'Métricas detalladas de rendimiento'; COMMENT ON COLUMN "load_balancer"."haConfig" IS 'Configuración de alta disponibilidad'; COMMENT ON COLUMN "load_balancer"."securityConfig" IS 'Configuración de seguridad'; COMMENT ON COLUMN "load_balancer"."lastModified" IS 'Fecha de última modificación'; COMMENT ON COLUMN "load_balancer"."lastRestart" IS 'Fecha de último reinicio'; COMMENT ON COLUMN "load_balancer"."lastHealthCheck" IS 'Fecha de última verificación de salud'; COMMENT ON COLUMN "load_balancer"."lastMaintenance" IS 'Fecha de último mantenimiento'; COMMENT ON COLUMN "load_balancer"."monthlyCost" IS 'Costo mensual'; COMMENT ON COLUMN "load_balancer"."hourlyCost" IS 'Costo por hora'; COMMENT ON COLUMN "load_balancer"."costPerRequest" IS 'Costo por request'; COMMENT ON COLUMN "load_balancer"."costPerGb" IS 'Costo por GB transferido'; COMMENT ON COLUMN "load_balancer"."tags" IS 'Etiquetas del balanceador'; COMMENT ON COLUMN "load_balancer"."environment" IS 'Entorno (dev, staging, prod)'; COMMENT ON COLUMN "load_balancer"."region" IS 'Región geográfica'; COMMENT ON COLUMN "load_balancer"."availabilityZone" IS 'Zona de disponibilidad'; COMMENT ON COLUMN "load_balancer"."metadata" IS 'Metadatos adicionales'`);
        await queryRunner.query(`CREATE TYPE "public"."firewall_rule_status_enum" AS ENUM('active', 'inactive', 'disabled')`);
        await queryRunner.query(`CREATE TYPE "public"."firewall_rule_action_enum" AS ENUM('allow', 'deny', 'drop', 'reject')`);
        await queryRunner.query(`CREATE TYPE "public"."firewall_rule_direction_enum" AS ENUM('inbound', 'outbound', 'bidirectional')`);
        await queryRunner.query(`CREATE TYPE "public"."firewall_rule_protocol_enum" AS ENUM('tcp', 'udp', 'icmp', 'any')`);
        await queryRunner.query(`CREATE TABLE "firewall_rule" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "name" character varying(200) NOT NULL, "description" text, "status" "public"."firewall_rule_status_enum" NOT NULL DEFAULT 'active', "priority" integer NOT NULL, "action" "public"."firewall_rule_action_enum" NOT NULL, "direction" "public"."firewall_rule_direction_enum" NOT NULL, "protocol" "public"."firewall_rule_protocol_enum" NOT NULL DEFAULT 'any', "enabled" boolean NOT NULL DEFAULT true, "isSystemRule" boolean NOT NULL DEFAULT false, "sourceIp" character varying(100), "sourceNetmask" character varying(50), "sourceCidr" character varying(100), "sourcePort" character varying(20), "sourceIpList" json, "sourcePortList" json, "sourceZone" character varying(100), "sourceInterface" character varying(100), "sourceGroup" character varying(100), "destinationIp" character varying(100), "destinationNetmask" character varying(50), "destinationCidr" character varying(100), "destinationPort" character varying(20), "destinationIpList" json, "destinationPortList" json, "destinationZone" character varying(100), "destinationInterface" character varying(100), "destinationGroup" character varying(100), "natConfig" json, "loggingConfig" json, "rateLimitConfig" json, "timeConfig" json, "geoConfig" json, "dpiConfig" json, "connectionConfig" json, "packetsProcessed" bigint DEFAULT '0', "bytesProcessed" bigint DEFAULT '0', "connectionsAllowed" bigint DEFAULT '0', "connectionsBlocked" bigint DEFAULT '0', "hitCount" bigint DEFAULT '0', "lastHit" TIMESTAMP, "firstHit" TIMESTAMP, "performanceMetrics" json, "alertConfig" json, "lastModified" TIMESTAMP, "activatedAt" TIMESTAMP, "deactivatedAt" TIMESTAMP, "expiresAt" TIMESTAMP, "createdBy" character varying(100), "lastModifiedBy" character varying(100), "changeReason" text, "changeHistory" json, "backupConfig" json, "tags" json, "category" character varying(100), "severity" character varying(50), "metadata" json, "user_id" integer, "datacenter_id" integer, "device_id" integer, CONSTRAINT "PK_290495863559bb1cce828a7fd05" PRIMARY KEY ("id")); COMMENT ON COLUMN "firewall_rule"."name" IS 'Nombre de la regla'; COMMENT ON COLUMN "firewall_rule"."description" IS 'Descripción de la regla'; COMMENT ON COLUMN "firewall_rule"."status" IS 'Estado de la regla'; COMMENT ON COLUMN "firewall_rule"."priority" IS 'Prioridad de la regla (menor número = mayor prioridad)'; COMMENT ON COLUMN "firewall_rule"."action" IS 'Acción a realizar'; COMMENT ON COLUMN "firewall_rule"."direction" IS 'Dirección del tráfico'; COMMENT ON COLUMN "firewall_rule"."protocol" IS 'Protocolo de red'; COMMENT ON COLUMN "firewall_rule"."enabled" IS 'Si la regla está habilitada'; COMMENT ON COLUMN "firewall_rule"."isSystemRule" IS 'Si es una regla del sistema (no editable)'; COMMENT ON COLUMN "firewall_rule"."sourceIp" IS 'Dirección IP de origen'; COMMENT ON COLUMN "firewall_rule"."sourceNetmask" IS 'Máscara de red de origen'; COMMENT ON COLUMN "firewall_rule"."sourceCidr" IS 'CIDR de origen'; COMMENT ON COLUMN "firewall_rule"."sourcePort" IS 'Puerto de origen (rango: 80-90 o puerto único: 80)'; COMMENT ON COLUMN "firewall_rule"."sourceIpList" IS 'Lista de IPs de origen'; COMMENT ON COLUMN "firewall_rule"."sourcePortList" IS 'Lista de puertos de origen'; COMMENT ON COLUMN "firewall_rule"."sourceZone" IS 'Zona de origen'; COMMENT ON COLUMN "firewall_rule"."sourceInterface" IS 'Interfaz de origen'; COMMENT ON COLUMN "firewall_rule"."sourceGroup" IS 'Grupo de origen'; COMMENT ON COLUMN "firewall_rule"."destinationIp" IS 'Dirección IP de destino'; COMMENT ON COLUMN "firewall_rule"."destinationNetmask" IS 'Máscara de red de destino'; COMMENT ON COLUMN "firewall_rule"."destinationCidr" IS 'CIDR de destino'; COMMENT ON COLUMN "firewall_rule"."destinationPort" IS 'Puerto de destino (rango: 80-90 o puerto único: 80)'; COMMENT ON COLUMN "firewall_rule"."destinationIpList" IS 'Lista de IPs de destino'; COMMENT ON COLUMN "firewall_rule"."destinationPortList" IS 'Lista de puertos de destino'; COMMENT ON COLUMN "firewall_rule"."destinationZone" IS 'Zona de destino'; COMMENT ON COLUMN "firewall_rule"."destinationInterface" IS 'Interfaz de destino'; COMMENT ON COLUMN "firewall_rule"."destinationGroup" IS 'Grupo de destino'; COMMENT ON COLUMN "firewall_rule"."natConfig" IS 'Configuración de NAT'; COMMENT ON COLUMN "firewall_rule"."loggingConfig" IS 'Configuración de logging'; COMMENT ON COLUMN "firewall_rule"."rateLimitConfig" IS 'Configuración de rate limiting'; COMMENT ON COLUMN "firewall_rule"."timeConfig" IS 'Configuración de tiempo'; COMMENT ON COLUMN "firewall_rule"."geoConfig" IS 'Configuración de geolocalización'; COMMENT ON COLUMN "firewall_rule"."dpiConfig" IS 'Configuración de DPI'; COMMENT ON COLUMN "firewall_rule"."connectionConfig" IS 'Configuración de estado de conexión'; COMMENT ON COLUMN "firewall_rule"."packetsProcessed" IS 'Número de paquetes procesados'; COMMENT ON COLUMN "firewall_rule"."bytesProcessed" IS 'Bytes procesados'; COMMENT ON COLUMN "firewall_rule"."connectionsAllowed" IS 'Número de conexiones permitidas'; COMMENT ON COLUMN "firewall_rule"."connectionsBlocked" IS 'Número de conexiones bloqueadas'; COMMENT ON COLUMN "firewall_rule"."hitCount" IS 'Número de veces que se activó la regla'; COMMENT ON COLUMN "firewall_rule"."lastHit" IS 'Última vez que se activó la regla'; COMMENT ON COLUMN "firewall_rule"."firstHit" IS 'Fecha de la primera activación'; COMMENT ON COLUMN "firewall_rule"."performanceMetrics" IS 'Métricas de rendimiento'; COMMENT ON COLUMN "firewall_rule"."alertConfig" IS 'Configuración de alertas'; COMMENT ON COLUMN "firewall_rule"."lastModified" IS 'Fecha de última modificación'; COMMENT ON COLUMN "firewall_rule"."activatedAt" IS 'Fecha de activación'; COMMENT ON COLUMN "firewall_rule"."deactivatedAt" IS 'Fecha de desactivación'; COMMENT ON COLUMN "firewall_rule"."expiresAt" IS 'Fecha de expiración'; COMMENT ON COLUMN "firewall_rule"."createdBy" IS 'Usuario que creó la regla'; COMMENT ON COLUMN "firewall_rule"."lastModifiedBy" IS 'Usuario que modificó la regla por última vez'; COMMENT ON COLUMN "firewall_rule"."changeReason" IS 'Razón del último cambio'; COMMENT ON COLUMN "firewall_rule"."changeHistory" IS 'Historial de cambios'; COMMENT ON COLUMN "firewall_rule"."backupConfig" IS 'Configuración de backup'; COMMENT ON COLUMN "firewall_rule"."tags" IS 'Etiquetas de la regla'; COMMENT ON COLUMN "firewall_rule"."category" IS 'Categoría de la regla'; COMMENT ON COLUMN "firewall_rule"."severity" IS 'Nivel de severidad'; COMMENT ON COLUMN "firewall_rule"."metadata" IS 'Metadatos adicionales'`);
        await queryRunner.query(`CREATE TABLE "company" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "name" character varying(255), "description" character varying(255), "registration_date" TIMESTAMP, "balance" integer DEFAULT '1500', "active" boolean NOT NULL DEFAULT false, "user_id" integer, CONSTRAINT "REL_879141ebc259b4c0544b3f1ea4" UNIQUE ("user_id"), CONSTRAINT "PK_056f7854a7afdba7cbd6d45fc20" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "bandwidth_plan" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "update_at" TIMESTAMP NOT NULL DEFAULT now(), "delete_at" TIMESTAMP, "id" SERIAL NOT NULL, "uuid" character varying NOT NULL, "name" character varying(255) NOT NULL, "description" character varying(1000), "bandwidthMbps" integer NOT NULL, "guaranteedBandwidthMbps" integer, "burstBandwidthMbps" integer, "averageLatencyMs" numeric(5,2), "packetLossPercentage" numeric(5,4), "averageJitterMs" numeric(5,2), "monthlyPrice" numeric(10,2) NOT NULL, "setupCost" numeric(10,2), "pricePerAdditionalMbps" numeric(8,4), "pricePerGbTransfer" numeric(8,6), "monthlyTransferLimitGb" bigint, "maxConcurrentConnections" integer, "uploadSpeedLimitMbps" integer, "downloadSpeedLimitMbps" integer, "includesDdosProtection" boolean NOT NULL DEFAULT false, "includesLoadBalancer" boolean NOT NULL DEFAULT false, "includesCdn" boolean NOT NULL DEFAULT false, "includes24x7Monitoring" boolean NOT NULL DEFAULT false, "unlimitedTraffic" boolean NOT NULL DEFAULT false, "isDedicated" boolean NOT NULL DEFAULT false, "uptimeSla" numeric(5,2), "maxLatencySla" numeric(5,2), "maxPacketLossSla" numeric(5,4), "incidentResolutionTimeMinutes" integer, "isActive" boolean NOT NULL DEFAULT true, "isPromotional" boolean NOT NULL DEFAULT false, "availableFrom" TIMESTAMP, "availableUntil" TIMESTAMP, "minimumContractMonths" integer, "availableRegions" json, "availableDatacenters" json, "qosConfiguration" json, "redundancyConfiguration" json, "performanceMetrics" json, "category" character varying(100), "displayOrder" integer, "isFeatured" boolean NOT NULL DEFAULT false, "isRecommended" boolean NOT NULL DEFAULT false, "supportLevel" character varying(100), "supportChannels" json, "supportResponseTimeHours" integer, "metadata" json, "provider_id" integer, CONSTRAINT "PK_bb58daa7222e03b07c7b7e8cca1" PRIMARY KEY ("id")); COMMENT ON COLUMN "bandwidth_plan"."bandwidthMbps" IS 'Ancho de banda en Mbps'; COMMENT ON COLUMN "bandwidth_plan"."guaranteedBandwidthMbps" IS 'Ancho de banda garantizado en Mbps'; COMMENT ON COLUMN "bandwidth_plan"."burstBandwidthMbps" IS 'Ancho de banda de ráfaga en Mbps'; COMMENT ON COLUMN "bandwidth_plan"."averageLatencyMs" IS 'Latencia promedio en ms'; COMMENT ON COLUMN "bandwidth_plan"."packetLossPercentage" IS 'Porcentaje de pérdida de paquetes'; COMMENT ON COLUMN "bandwidth_plan"."averageJitterMs" IS 'Jitter promedio en ms'; COMMENT ON COLUMN "bandwidth_plan"."monthlyPrice" IS 'Precio mensual base'; COMMENT ON COLUMN "bandwidth_plan"."setupCost" IS 'Costo de instalación/setup'; COMMENT ON COLUMN "bandwidth_plan"."pricePerAdditionalMbps" IS 'Precio por Mbps adicional'; COMMENT ON COLUMN "bandwidth_plan"."pricePerGbTransfer" IS 'Precio por GB de transferencia'; COMMENT ON COLUMN "bandwidth_plan"."monthlyTransferLimitGb" IS 'Límite de transferencia mensual en GB'; COMMENT ON COLUMN "bandwidth_plan"."maxConcurrentConnections" IS 'Número máximo de conexiones concurrentes'; COMMENT ON COLUMN "bandwidth_plan"."uploadSpeedLimitMbps" IS 'Límite de velocidad de subida en Mbps'; COMMENT ON COLUMN "bandwidth_plan"."downloadSpeedLimitMbps" IS 'Límite de velocidad de descarga en Mbps'; COMMENT ON COLUMN "bandwidth_plan"."includesDdosProtection" IS 'Si incluye protección DDoS'; COMMENT ON COLUMN "bandwidth_plan"."includesLoadBalancer" IS 'Si incluye balanceador de carga'; COMMENT ON COLUMN "bandwidth_plan"."includesCdn" IS 'Si incluye CDN'; COMMENT ON COLUMN "bandwidth_plan"."includes24x7Monitoring" IS 'Si incluye monitoreo 24/7'; COMMENT ON COLUMN "bandwidth_plan"."unlimitedTraffic" IS 'Si permite tráfico ilimitado'; COMMENT ON COLUMN "bandwidth_plan"."isDedicated" IS 'Si es un plan dedicado'; COMMENT ON COLUMN "bandwidth_plan"."uptimeSla" IS 'SLA de uptime (%)'; COMMENT ON COLUMN "bandwidth_plan"."maxLatencySla" IS 'SLA de latencia máxima (ms)'; COMMENT ON COLUMN "bandwidth_plan"."maxPacketLossSla" IS 'SLA de pérdida de paquetes máxima (%)'; COMMENT ON COLUMN "bandwidth_plan"."incidentResolutionTimeMinutes" IS 'Tiempo de resolución de incidentes en minutos'; COMMENT ON COLUMN "bandwidth_plan"."isActive" IS 'Si el plan está activo y disponible'; COMMENT ON COLUMN "bandwidth_plan"."isPromotional" IS 'Si es un plan promocional'; COMMENT ON COLUMN "bandwidth_plan"."availableFrom" IS 'Fecha de inicio de disponibilidad'; COMMENT ON COLUMN "bandwidth_plan"."availableUntil" IS 'Fecha de fin de disponibilidad'; COMMENT ON COLUMN "bandwidth_plan"."minimumContractMonths" IS 'Duración mínima del contrato en meses'; COMMENT ON COLUMN "bandwidth_plan"."availableRegions" IS 'Regiones donde está disponible el plan'; COMMENT ON COLUMN "bandwidth_plan"."availableDatacenters" IS 'Datacenters donde está disponible'; COMMENT ON COLUMN "bandwidth_plan"."qosConfiguration" IS 'Configuración de QoS (Quality of Service)'; COMMENT ON COLUMN "bandwidth_plan"."redundancyConfiguration" IS 'Configuración de redundancia y failover'; COMMENT ON COLUMN "bandwidth_plan"."performanceMetrics" IS 'Métricas históricas del plan'; COMMENT ON COLUMN "bandwidth_plan"."category" IS 'Categoría del plan (básico, profesional, empresarial)'; COMMENT ON COLUMN "bandwidth_plan"."displayOrder" IS 'Orden de visualización'; COMMENT ON COLUMN "bandwidth_plan"."isFeatured" IS 'Si es el plan más popular'; COMMENT ON COLUMN "bandwidth_plan"."isRecommended" IS 'Si es recomendado para nuevos clientes'; COMMENT ON COLUMN "bandwidth_plan"."supportLevel" IS 'Nivel de soporte incluido'; COMMENT ON COLUMN "bandwidth_plan"."supportChannels" IS 'Canales de soporte disponibles'; COMMENT ON COLUMN "bandwidth_plan"."supportResponseTimeHours" IS 'Tiempo de respuesta de soporte en horas'; COMMENT ON COLUMN "bandwidth_plan"."metadata" IS 'Metadatos adicionales del plan'`);
        await queryRunner.query(`ALTER TABLE "user" ADD CONSTRAINT "FK_3bea99cfa674e8767c7fbb51f8e" FOREIGN KEY ("rol_id") REFERENCES "rol"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "datacenter" ADD CONSTRAINT "FK_4a7b85c328ae789791ff97d4dbd" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "datacenter" ADD CONSTRAINT "FK_74e57ca19a1a873763aa92bce3d" FOREIGN KEY ("datacenter_type_id") REFERENCES "datacenter_types"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "service" ADD CONSTRAINT "FK_6c4f6adc2bc86736d090dc29071" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "service" ADD CONSTRAINT "FK_1aa6aee424eda4e2323bd63cc91" FOREIGN KEY ("service_type_id") REFERENCES "service_type_entity"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "service" ADD CONSTRAINT "FK_39d062e4389cba2b5771e36abd6" FOREIGN KEY ("datacenter_id") REFERENCES "datacenter"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_d44fd7313bdaffcf260f84ceb8c" FOREIGN KEY ("provider_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_17598b1610ffe62285e28e8679c" FOREIGN KEY ("client_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_e6d5791da886b9f21174eda7e42" FOREIGN KEY ("service_id") REFERENCES "service"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_b4a3d92d5dde30f3ab5c34c5862" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_5a6888faa99bec2c7708d3e7e1a" FOREIGN KEY ("contract_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "rack" ADD CONSTRAINT "FK_5c8ec2dd2961d44dcfbc05e9b49" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "rack" ADD CONSTRAINT "FK_a2bdeab4f63eb280ce0f09e2c78" FOREIGN KEY ("datacenter_id") REFERENCES "datacenter"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "servers" ADD CONSTRAINT "FK_5d8f69970c0d50f8bf237bd0ab7" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "servers" ADD CONSTRAINT "FK_555a61fbfc54319ac7cac86a80d" FOREIGN KEY ("rack_id") REFERENCES "rack"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "servers" ADD CONSTRAINT "FK_a00b9ddbc5d85d5ea19975be06e" FOREIGN KEY ("cpu_id") REFERENCES "cpu"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "servers" ADD CONSTRAINT "FK_a3e0769b80a3fbd68b07a9d5c99" FOREIGN KEY ("ram_id") REFERENCES "ram"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "servers" ADD CONSTRAINT "FK_49e9057ffff199273b5022249e6" FOREIGN KEY ("storage_id") REFERENCES "storage"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "device" ADD CONSTRAINT "FK_ae7154510495c7ddda951b07a07" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "device" ADD CONSTRAINT "FK_58a282e1435a9c21c71e3d7f579" FOREIGN KEY ("rack_id") REFERENCES "rack"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "incident" ADD CONSTRAINT "FK_65cd11b3394e92b044f5b1140c2" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "incident" ADD CONSTRAINT "FK_d1d27a5f000baa4ade72c734e3b" FOREIGN KEY ("datacenter_id") REFERENCES "datacenter"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "incident" ADD CONSTRAINT "FK_563faabc57d786e4ce220439cc4" FOREIGN KEY ("device_id") REFERENCES "device"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "incident" ADD CONSTRAINT "FK_d7812ad41056acd7b8dd8a75303" FOREIGN KEY ("service_id") REFERENCES "service"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "incident" ADD CONSTRAINT "FK_72475a2be98b43a37f6995591e0" FOREIGN KEY ("contract_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reputation_event" ADD CONSTRAINT "FK_e6c8e80e4ff7018a94aa8e47d59" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reputation_event" ADD CONSTRAINT "FK_ea85137778598741f11210679e8" FOREIGN KEY ("contract_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reputation_event" ADD CONSTRAINT "FK_ac9e0f12f430ec36b22f50c957a" FOREIGN KEY ("service_id") REFERENCES "service"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "reputation_event" ADD CONSTRAINT "FK_4f2d4c57890cb8aa21f8046665d" FOREIGN KEY ("incident_id") REFERENCES "incident"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "ranking_snapshot" ADD CONSTRAINT "FK_ef98e8096f0eb7a584aebd0de27" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "cluster" ADD CONSTRAINT "FK_1dbf542e7407435f6123c7f7922" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "cluster" ADD CONSTRAINT "FK_debd9eeb162e81cb6296caa6e7f" FOREIGN KEY ("service_id") REFERENCES "service"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "node" ADD CONSTRAINT "FK_d80476c7c55368fdf63de16ceb9" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "node" ADD CONSTRAINT "FK_adc8ca641e122cd0fa5e18e5f11" FOREIGN KEY ("cluster_id") REFERENCES "cluster"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "node" ADD CONSTRAINT "FK_8eca846e21f376980ed6ab12e80" FOREIGN KEY ("device_id") REFERENCES "device"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "pod" ADD CONSTRAINT "FK_8f2c442b1c92b0250c0eef77a28" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "pod" ADD CONSTRAINT "FK_ae7f15c493c30cba235fc6389fe" FOREIGN KEY ("cluster_id") REFERENCES "cluster"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "pod" ADD CONSTRAINT "FK_e0531f6ec86eb53535cf9357a43" FOREIGN KEY ("node_id") REFERENCES "node"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "network_config" ADD CONSTRAINT "FK_94b2c2f5519618510e9076b6df8" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "network_config" ADD CONSTRAINT "FK_a1132e2d101fd74e50ab42ec1a7" FOREIGN KEY ("datacenter_id") REFERENCES "datacenter"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "network_config" ADD CONSTRAINT "FK_bb98eb9c14a5019d18c9e58c93a" FOREIGN KEY ("device_id") REFERENCES "device"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "load_balancer" ADD CONSTRAINT "FK_45b7aeb1dfcca80e4d7d3ab1d9e" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "load_balancer" ADD CONSTRAINT "FK_13b8f3b3bfdeb84d269e464b0e7" FOREIGN KEY ("datacenter_id") REFERENCES "datacenter"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "load_balancer" ADD CONSTRAINT "FK_a51ba07cf4f2857ee3ffb1db0de" FOREIGN KEY ("device_id") REFERENCES "device"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "firewall_rule" ADD CONSTRAINT "FK_9d85805d901fcc052e73c03609e" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "firewall_rule" ADD CONSTRAINT "FK_6131bc4c63a053178a00ff84e54" FOREIGN KEY ("datacenter_id") REFERENCES "datacenter"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "firewall_rule" ADD CONSTRAINT "FK_b05c27d77d7e698d6c4e103e203" FOREIGN KEY ("device_id") REFERENCES "device"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "company" ADD CONSTRAINT "FK_879141ebc259b4c0544b3f1ea4c" FOREIGN KEY ("user_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "bandwidth_plan" ADD CONSTRAINT "FK_512cd4d838bf6f9d4ecabbab364" FOREIGN KEY ("provider_id") REFERENCES "user"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "bandwidth_plan" DROP CONSTRAINT "FK_512cd4d838bf6f9d4ecabbab364"`);
        await queryRunner.query(`ALTER TABLE "company" DROP CONSTRAINT "FK_879141ebc259b4c0544b3f1ea4c"`);
        await queryRunner.query(`ALTER TABLE "firewall_rule" DROP CONSTRAINT "FK_b05c27d77d7e698d6c4e103e203"`);
        await queryRunner.query(`ALTER TABLE "firewall_rule" DROP CONSTRAINT "FK_6131bc4c63a053178a00ff84e54"`);
        await queryRunner.query(`ALTER TABLE "firewall_rule" DROP CONSTRAINT "FK_9d85805d901fcc052e73c03609e"`);
        await queryRunner.query(`ALTER TABLE "load_balancer" DROP CONSTRAINT "FK_a51ba07cf4f2857ee3ffb1db0de"`);
        await queryRunner.query(`ALTER TABLE "load_balancer" DROP CONSTRAINT "FK_13b8f3b3bfdeb84d269e464b0e7"`);
        await queryRunner.query(`ALTER TABLE "load_balancer" DROP CONSTRAINT "FK_45b7aeb1dfcca80e4d7d3ab1d9e"`);
        await queryRunner.query(`ALTER TABLE "network_config" DROP CONSTRAINT "FK_bb98eb9c14a5019d18c9e58c93a"`);
        await queryRunner.query(`ALTER TABLE "network_config" DROP CONSTRAINT "FK_a1132e2d101fd74e50ab42ec1a7"`);
        await queryRunner.query(`ALTER TABLE "network_config" DROP CONSTRAINT "FK_94b2c2f5519618510e9076b6df8"`);
        await queryRunner.query(`ALTER TABLE "pod" DROP CONSTRAINT "FK_e0531f6ec86eb53535cf9357a43"`);
        await queryRunner.query(`ALTER TABLE "pod" DROP CONSTRAINT "FK_ae7f15c493c30cba235fc6389fe"`);
        await queryRunner.query(`ALTER TABLE "pod" DROP CONSTRAINT "FK_8f2c442b1c92b0250c0eef77a28"`);
        await queryRunner.query(`ALTER TABLE "node" DROP CONSTRAINT "FK_8eca846e21f376980ed6ab12e80"`);
        await queryRunner.query(`ALTER TABLE "node" DROP CONSTRAINT "FK_adc8ca641e122cd0fa5e18e5f11"`);
        await queryRunner.query(`ALTER TABLE "node" DROP CONSTRAINT "FK_d80476c7c55368fdf63de16ceb9"`);
        await queryRunner.query(`ALTER TABLE "cluster" DROP CONSTRAINT "FK_debd9eeb162e81cb6296caa6e7f"`);
        await queryRunner.query(`ALTER TABLE "cluster" DROP CONSTRAINT "FK_1dbf542e7407435f6123c7f7922"`);
        await queryRunner.query(`ALTER TABLE "ranking_snapshot" DROP CONSTRAINT "FK_ef98e8096f0eb7a584aebd0de27"`);
        await queryRunner.query(`ALTER TABLE "reputation_event" DROP CONSTRAINT "FK_4f2d4c57890cb8aa21f8046665d"`);
        await queryRunner.query(`ALTER TABLE "reputation_event" DROP CONSTRAINT "FK_ac9e0f12f430ec36b22f50c957a"`);
        await queryRunner.query(`ALTER TABLE "reputation_event" DROP CONSTRAINT "FK_ea85137778598741f11210679e8"`);
        await queryRunner.query(`ALTER TABLE "reputation_event" DROP CONSTRAINT "FK_e6c8e80e4ff7018a94aa8e47d59"`);
        await queryRunner.query(`ALTER TABLE "incident" DROP CONSTRAINT "FK_72475a2be98b43a37f6995591e0"`);
        await queryRunner.query(`ALTER TABLE "incident" DROP CONSTRAINT "FK_d7812ad41056acd7b8dd8a75303"`);
        await queryRunner.query(`ALTER TABLE "incident" DROP CONSTRAINT "FK_563faabc57d786e4ce220439cc4"`);
        await queryRunner.query(`ALTER TABLE "incident" DROP CONSTRAINT "FK_d1d27a5f000baa4ade72c734e3b"`);
        await queryRunner.query(`ALTER TABLE "incident" DROP CONSTRAINT "FK_65cd11b3394e92b044f5b1140c2"`);
        await queryRunner.query(`ALTER TABLE "device" DROP CONSTRAINT "FK_58a282e1435a9c21c71e3d7f579"`);
        await queryRunner.query(`ALTER TABLE "device" DROP CONSTRAINT "FK_ae7154510495c7ddda951b07a07"`);
        await queryRunner.query(`ALTER TABLE "servers" DROP CONSTRAINT "FK_49e9057ffff199273b5022249e6"`);
        await queryRunner.query(`ALTER TABLE "servers" DROP CONSTRAINT "FK_a3e0769b80a3fbd68b07a9d5c99"`);
        await queryRunner.query(`ALTER TABLE "servers" DROP CONSTRAINT "FK_a00b9ddbc5d85d5ea19975be06e"`);
        await queryRunner.query(`ALTER TABLE "servers" DROP CONSTRAINT "FK_555a61fbfc54319ac7cac86a80d"`);
        await queryRunner.query(`ALTER TABLE "servers" DROP CONSTRAINT "FK_5d8f69970c0d50f8bf237bd0ab7"`);
        await queryRunner.query(`ALTER TABLE "rack" DROP CONSTRAINT "FK_a2bdeab4f63eb280ce0f09e2c78"`);
        await queryRunner.query(`ALTER TABLE "rack" DROP CONSTRAINT "FK_5c8ec2dd2961d44dcfbc05e9b49"`);
        await queryRunner.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_5a6888faa99bec2c7708d3e7e1a"`);
        await queryRunner.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_b4a3d92d5dde30f3ab5c34c5862"`);
        await queryRunner.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_e6d5791da886b9f21174eda7e42"`);
        await queryRunner.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_17598b1610ffe62285e28e8679c"`);
        await queryRunner.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_d44fd7313bdaffcf260f84ceb8c"`);
        await queryRunner.query(`ALTER TABLE "service" DROP CONSTRAINT "FK_39d062e4389cba2b5771e36abd6"`);
        await queryRunner.query(`ALTER TABLE "service" DROP CONSTRAINT "FK_1aa6aee424eda4e2323bd63cc91"`);
        await queryRunner.query(`ALTER TABLE "service" DROP CONSTRAINT "FK_6c4f6adc2bc86736d090dc29071"`);
        await queryRunner.query(`ALTER TABLE "datacenter" DROP CONSTRAINT "FK_74e57ca19a1a873763aa92bce3d"`);
        await queryRunner.query(`ALTER TABLE "datacenter" DROP CONSTRAINT "FK_4a7b85c328ae789791ff97d4dbd"`);
        await queryRunner.query(`ALTER TABLE "user" DROP CONSTRAINT "FK_3bea99cfa674e8767c7fbb51f8e"`);
        await queryRunner.query(`DROP TABLE "bandwidth_plan"`);
        await queryRunner.query(`DROP TABLE "company"`);
        await queryRunner.query(`DROP TABLE "firewall_rule"`);
        await queryRunner.query(`DROP TYPE "public"."firewall_rule_protocol_enum"`);
        await queryRunner.query(`DROP TYPE "public"."firewall_rule_direction_enum"`);
        await queryRunner.query(`DROP TYPE "public"."firewall_rule_action_enum"`);
        await queryRunner.query(`DROP TYPE "public"."firewall_rule_status_enum"`);
        await queryRunner.query(`DROP TABLE "load_balancer"`);
        await queryRunner.query(`DROP TYPE "public"."load_balancer_algorithm_enum"`);
        await queryRunner.query(`DROP TYPE "public"."load_balancer_type_enum"`);
        await queryRunner.query(`DROP TYPE "public"."load_balancer_status_enum"`);
        await queryRunner.query(`DROP TABLE "network_config"`);
        await queryRunner.query(`DROP TYPE "public"."network_config_networktype_enum"`);
        await queryRunner.query(`DROP TYPE "public"."network_config_status_enum"`);
        await queryRunner.query(`DROP TABLE "pod"`);
        await queryRunner.query(`DROP TYPE "public"."pod_restartpolicy_enum"`);
        await queryRunner.query(`DROP TYPE "public"."pod_status_enum"`);
        await queryRunner.query(`DROP TABLE "node"`);
        await queryRunner.query(`DROP TYPE "public"."node_status_enum"`);
        await queryRunner.query(`DROP TABLE "cluster"`);
        await queryRunner.query(`DROP TYPE "public"."cluster_status_enum"`);
        await queryRunner.query(`DROP TABLE "ranking_snapshot"`);
        await queryRunner.query(`DROP TABLE "reputation_event"`);
        await queryRunner.query(`DROP TYPE "public"."reputation_event_eventtype_enum"`);
        await queryRunner.query(`DROP TABLE "incident"`);
        await queryRunner.query(`DROP TYPE "public"."incident_status_enum"`);
        await queryRunner.query(`DROP TYPE "public"."incident_severity_enum"`);
        await queryRunner.query(`DROP TYPE "public"."incident_type_enum"`);
        await queryRunner.query(`DROP TABLE "device"`);
        await queryRunner.query(`DROP TYPE "public"."device_status_enum"`);
        await queryRunner.query(`DROP TYPE "public"."device_devicetype_enum"`);
        await queryRunner.query(`DROP TABLE "servers"`);
        await queryRunner.query(`DROP TABLE "ram"`);
        await queryRunner.query(`DROP TABLE "rack"`);
        await queryRunner.query(`DROP TYPE "public"."rack_coolingtype_enum"`);
        await queryRunner.query(`DROP TYPE "public"."rack_powerphase_enum"`);
        await queryRunner.query(`DROP TYPE "public"."rack_racktype_enum"`);
        await queryRunner.query(`DROP TYPE "public"."rack_status_enum"`);
        await queryRunner.query(`DROP TABLE "cpu"`);
        await queryRunner.query(`DROP TABLE "transaction"`);
        await queryRunner.query(`DROP TYPE "public"."transaction_category_enum"`);
        await queryRunner.query(`DROP TYPE "public"."transaction_type_enum"`);
        await queryRunner.query(`DROP TABLE "contract"`);
        await queryRunner.query(`DROP TYPE "public"."contract_status_enum"`);
        await queryRunner.query(`DROP TABLE "service"`);
        await queryRunner.query(`DROP TYPE "public"."service_status_enum"`);
        await queryRunner.query(`DROP TABLE "datacenter"`);
        await queryRunner.query(`DROP TYPE "public"."datacenter_coolingtype_enum"`);
        await queryRunner.query(`DROP TYPE "public"."datacenter_powerredundancy_enum"`);
        await queryRunner.query(`DROP TYPE "public"."datacenter_tier_enum"`);
        await queryRunner.query(`DROP TYPE "public"."datacenter_status_enum"`);
        await queryRunner.query(`DROP TABLE "datacenter_types"`);
        await queryRunner.query(`DROP TABLE "service_type_entity"`);
        await queryRunner.query(`DROP TYPE "public"."service_type_entity_type_enum"`);
        await queryRunner.query(`DROP TABLE "user"`);
        await queryRunner.query(`DROP TYPE "public"."user_pushnotifications_enum"`);
        await queryRunner.query(`DROP TYPE "public"."user_smsnotifications_enum"`);
        await queryRunner.query(`DROP TYPE "public"."user_emailnotifications_enum"`);
        await queryRunner.query(`DROP TYPE "public"."user_preferredcurrency_enum"`);
        await queryRunner.query(`DROP TYPE "public"."user_preferredlanguage_enum"`);
        await queryRunner.query(`DROP TYPE "public"."user_tier_enum"`);
        await queryRunner.query(`DROP TYPE "public"."user_status_enum"`);
        await queryRunner.query(`DROP TABLE "rol"`);
        await queryRunner.query(`DROP TABLE "storage"`);
    }

}
